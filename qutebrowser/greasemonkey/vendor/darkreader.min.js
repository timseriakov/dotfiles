/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/darkreader@4.9.109/darkreader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!(function (e, t) {
  "object" == typeof exports && "undefined" != typeof module
    ? t(exports)
    : "function" == typeof define && define.amd
      ? define(["exports"], t)
      : t(
          ((e =
            "undefined" != typeof globalThis
              ? globalThis
              : e || self).DarkReader = {}),
        );
})(this, function (e) {
  "use strict";
  var t, n, r, o, s, a, i, c, l;
  (!(function (e) {
    ((e.GET_DATA = "ui-bg-get-data"),
      (e.GET_DEVTOOLS_DATA = "ui-bg-get-devtools-data"),
      (e.SUBSCRIBE_TO_CHANGES = "ui-bg-subscribe-to-changes"),
      (e.UNSUBSCRIBE_FROM_CHANGES = "ui-bg-unsubscribe-from-changes"),
      (e.CHANGE_SETTINGS = "ui-bg-change-settings"),
      (e.SET_THEME = "ui-bg-set-theme"),
      (e.TOGGLE_ACTIVE_TAB = "ui-bg-toggle-active-tab"),
      (e.MARK_NEWS_AS_READ = "ui-bg-mark-news-as-read"),
      (e.MARK_NEWS_AS_DISPLAYED = "ui-bg-mark-news-as-displayed"),
      (e.LOAD_CONFIG = "ui-bg-load-config"),
      (e.APPLY_DEV_DYNAMIC_THEME_FIXES = "ui-bg-apply-dev-dynamic-theme-fixes"),
      (e.RESET_DEV_DYNAMIC_THEME_FIXES = "ui-bg-reset-dev-dynamic-theme-fixes"),
      (e.APPLY_DEV_INVERSION_FIXES = "ui-bg-apply-dev-inversion-fixes"),
      (e.RESET_DEV_INVERSION_FIXES = "ui-bg-reset-dev-inversion-fixes"),
      (e.APPLY_DEV_STATIC_THEMES = "ui-bg-apply-dev-static-themes"),
      (e.RESET_DEV_STATIC_THEMES = "ui-bg-reset-dev-static-themes"),
      (e.START_ACTIVATION = "ui-bg-start-activation"),
      (e.RESET_ACTIVATION = "ui-bg-reset-activation"),
      (e.COLOR_SCHEME_CHANGE = "ui-bg-color-scheme-change"),
      (e.HIDE_HIGHLIGHTS = "ui-bg-hide-highlights"));
  })(t || (t = {})),
    (function (e) {
      e.CHANGES = "bg-ui-changes";
    })(n || (n = {})),
    (function (e) {
      ((e.CSS_UPDATE = "debug-bg-ui-css-update"),
        (e.UPDATE = "debug-bg-ui-update"));
    })(r || (r = {})),
    (function (e) {
      ((e.ADD_CSS_FILTER = "bg-cs-add-css-filter"),
        (e.ADD_DYNAMIC_THEME = "bg-cs-add-dynamic-theme"),
        (e.ADD_STATIC_THEME = "bg-cs-add-static-theme"),
        (e.ADD_SVG_FILTER = "bg-cs-add-svg-filter"),
        (e.CLEAN_UP = "bg-cs-clean-up"),
        (e.FETCH_RESPONSE = "bg-cs-fetch-response"),
        (e.UNSUPPORTED_SENDER = "bg-cs-unsupported-sender"));
    })(o || (o = {})),
    (function (e) {
      e.RELOAD = "debug-bg-cs-reload";
    })(s || (s = {})),
    (function (e) {
      ((e.COLOR_SCHEME_CHANGE = "cs-bg-color-scheme-change"),
        (e.DARK_THEME_DETECTED = "cs-bg-dark-theme-detected"),
        (e.DARK_THEME_NOT_DETECTED = "cs-bg-dark-theme-not-detected"),
        (e.FETCH = "cs-bg-fetch"),
        (e.DOCUMENT_CONNECT = "cs-bg-document-connect"),
        (e.DOCUMENT_FORGET = "cs-bg-document-forget"),
        (e.DOCUMENT_FREEZE = "cs-bg-document-freeze"),
        (e.DOCUMENT_RESUME = "cs-bg-document-resume"));
    })(a || (a = {})),
    (function (e) {
      e.LOG = "debug-cs-bg-log";
    })(i || (i = {})),
    (function (e) {
      e.EXPORT_CSS_RESPONSE = "cs-ui-export-css-response";
    })(c || (c = {})),
    (function (e) {
      e.EXPORT_CSS = "ui-cs-export-css";
    })(l || (l = {})));
  const u = "undefined" != typeof navigator,
    d = u
      ? navigator.userAgentData && Array.isArray(navigator.userAgentData.brands)
        ? navigator.userAgentData.brands
            .map((e) => `${e.brand.toLowerCase()} ${e.version}`)
            .join(" ")
        : navigator.userAgent.toLowerCase()
      : "some useragent",
    h = u
      ? navigator.userAgentData &&
        "string" == typeof navigator.userAgentData.platform
        ? navigator.userAgentData.platform.toLowerCase()
        : navigator.platform.toLowerCase()
      : "some platform",
    f = d.includes("chrome") || d.includes("chromium"),
    m =
      d.includes("firefox") ||
      d.includes("thunderbird") ||
      d.includes("librewolf"),
    p = d.includes("safari") && !f,
    g = h.startsWith("win"),
    b = h.startsWith("mac");
  u && navigator.userAgentData
    ? navigator.userAgentData.mobile
    : d.includes("mobile");
  const y = "function" == typeof ShadowRoot,
    k =
      "function" == typeof MediaQueryList &&
      "function" == typeof MediaQueryList.prototype.addEventListener,
    w = "function" == typeof CSSLayerBlockRule;
  ((() => {
    const e = d.match(/chrom(?:e|ium)(?:\/| )([^ ]+)/);
    e && e[1] && e[1];
  })(),
    (() => {
      const e = d.match(/(?:firefox|librewolf)(?:\/| )([^ ]+)/);
      e && e[1] && e[1];
    })());
  const S = (() => {
      try {
        return (document.querySelector(":defined"), !0);
      } catch (e) {
        return !1;
      }
    })(),
    _ = (() => {
      try {
        if ("undefined" == typeof document) return !1;
        const e = document.createElement("div");
        return (
          !(!e || "object" != typeof e.style) &&
          ("string" == typeof e.style.colorScheme ||
            (e.setAttribute("style", "color-scheme: dark"),
            "dark" === e.style.colorScheme))
        );
      } catch (e) {
        return !1;
      }
    })();
  async function E(e, t, n) {
    const r = n && e.startsWith(`${n}/`) ? void 0 : "omit",
      o = await fetch(e, { cache: "force-cache", credentials: r, referrer: n });
    if (
      m &&
      "text/css" === t &&
      e.startsWith("moz-extension://") &&
      e.endsWith(".css")
    )
      return o;
    if (t && !o.headers.get("Content-Type").startsWith(t))
      throw new Error(`Mime type mismatch when loading ${e}`);
    if (!o.ok)
      throw new Error(`Unable to load ${e} ${o.status} ${o.statusText}`);
    return o;
  }
  async function v(e, t) {
    const n = await E(e, t);
    return await C(n);
  }
  async function C(e) {
    const t = await e.blob();
    return await new Promise((e) => {
      const n = new FileReader();
      ((n.onloadend = () => e(n.result)), n.readAsDataURL(t));
    });
  }
  const x = async (e) =>
    Promise.reject(
      new Error(
        [
          "Embedded Dark Reader cannot access a cross-origin resource",
          e,
          "Overview your URLs and CORS policies or use",
          "`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.",
          "See if using `DarkReader.setFetchMethod(window.fetch)`",
          "before `DarkReader.enable()` works.",
        ].join(" "),
      ),
    );
  let R = x;
  (window.chrome || (window.chrome = {}),
    chrome.runtime || (chrome.runtime = {}));
  const $ = new Set();
  async function A(...e) {
    if (e[0] && e[0].type === a.FETCH) {
      const { id: t } = e[0];
      try {
        const { url: n, responseType: r } = e[0].data,
          s = await (async function (e) {
            return await R(e);
          })(n);
        let a;
        ((a = "data-url" === r ? await C(s) : await s.text()),
          $.forEach((e) =>
            e({ type: o.FETCH_RESPONSE, data: a, error: null, id: t }),
          ));
      } catch (e) {
        (console.error(e),
          $.forEach((n) =>
            n({ type: o.FETCH_RESPONSE, data: null, error: e, id: t }),
          ));
      }
    }
  }
  function T(e) {
    $.add(e);
  }
  if ("function" == typeof chrome.runtime.sendMessage) {
    const e = chrome.runtime.sendMessage;
    chrome.runtime.sendMessage = (...t) => {
      (A(...t), e.apply(chrome.runtime, t));
    };
  } else chrome.runtime.sendMessage = A;
  if (
    (chrome.runtime.onMessage || (chrome.runtime.onMessage = {}),
    "function" == typeof chrome.runtime.onMessage.addListener)
  ) {
    const e = chrome.runtime.onMessage.addListener;
    chrome.runtime.onMessage.addListener = (...t) => {
      (T(t[0]), e.apply(chrome.runtime.onMessage, t));
    };
  } else chrome.runtime.onMessage.addListener = (...e) => T(e[0]);
  var M, V;
  (!(function (e) {
    ((e.cssFilter = "cssFilter"),
      (e.svgFilter = "svgFilter"),
      (e.staticTheme = "staticTheme"),
      (e.dynamicTheme = "dynamicTheme"));
  })(M || (M = {})),
    (function (e) {
      ((e.NONE = ""),
        (e.TIME = "time"),
        (e.SYSTEM = "system"),
        (e.LOCATION = "location"));
    })(V || (V = {})));
  const L = { background: "#181a1b", text: "#e8e6e3" },
    D = { background: "#dcdad7", text: "#181a1b" },
    P = {
      mode: 1,
      brightness: 100,
      contrast: 100,
      grayscale: 0,
      sepia: 0,
      useFont: !1,
      fontFamily: b ? "Helvetica Neue" : g ? "Segoe UI" : "Open Sans",
      textStroke: 0,
      engine: M.dynamicTheme,
      stylesheet: "",
      darkSchemeBackgroundColor: L.background,
      darkSchemeTextColor: L.text,
      lightSchemeBackgroundColor: D.background,
      lightSchemeTextColor: D.text,
      scrollbarColor: "",
      selectionColor: "auto",
      styleSystemControls: !_,
      lightColorScheme: "Default",
      darkColorScheme: "Default",
      immediateModify: !1,
    };
  function O(e, t, n = 0) {
    const r = [];
    let o;
    for (; (o = e.exec(t)); ) r.push(o[n]);
    return r;
  }
  function N(e) {
    const t = e.length;
    let n = 0;
    for (let r = 0; r < t; r++) {
      n = ((n << 5) - n + e.charCodeAt(r)) & 4294967295;
    }
    return n;
  }
  function F(e, t = 0) {
    return W(e, t, "(", ")", []);
  }
  function W(e, t, n, r, o) {
    let s;
    s = 0 === o.length ? (t, n) => e.indexOf(t, n) : (t, n) => I(e, t, n, o);
    const { length: a } = e;
    let i = 0,
      c = -1;
    for (let e = t; e < a; e++)
      if (0 === i) {
        const t = s(n, e);
        if (t < 0) break;
        ((c = t), i++, (e = t));
      } else {
        const t = s(r, e);
        if (t < 0) break;
        const o = s(n, e);
        if (o < 0 || t <= o) {
          if ((i--, 0 === i)) return { start: c, end: t + 1 };
          e = t;
        } else (i++, (e = o));
      }
    return null;
  }
  function I(e, t, n, r) {
    const o = e.indexOf(t, n),
      s = r.find((e) => o >= e.start && o < e.end);
    return s ? I(e, t, s.end, r) : o;
  }
  function q(e, t, n) {
    const r = [];
    let o = -1,
      s = 0;
    for (; (o = I(e, t, s, n)) >= 0; )
      (r.push(e.substring(s, o).trim()), (s = o + 1));
    return (r.push(e.substring(s).trim()), r);
  }
  let j;
  ([
    "*.officeapps.live.com",
    "*.sharepoint.com",
    "docs.google.com",
    "onedrive.live.com",
  ].map((e) => {
    const t = M.cssFilter;
    return { url: [e], theme: { ...P, engine: t }, builtIn: !0 };
  }),
    V.NONE);
  const U = new Map();
  function B(e) {
    return (j || (j = document.createElement("a")), (j.href = e), j.href);
  }
  function H(e, t = null) {
    const n = `${e}${t ? `;${t}` : ""}`;
    if (U.has(n)) return U.get(n);
    if (t) {
      const r = new URL(e, B(t));
      return (U.set(n, r), r);
    }
    const r = new URL(B(e));
    return (U.set(e, r), r);
  }
  function G(e, t) {
    if (t.match(/^data\\?\:/)) return t;
    if (/^\/\//.test(t)) return `${location.protocol}${t}`;
    const n = H(e);
    return H(t, n.href).href;
  }
  const z = [
    "pre",
    "pre *",
    "code",
    '[aria-hidden="true"]',
    '[class*="fa-"]',
    ".fa",
    ".fab",
    ".fad",
    ".fal",
    ".far",
    ".fas",
    ".fass",
    ".fasr",
    ".fat",
    ".icofont",
    '[style*="font-"]',
    '[class*="icon"]',
    '[class*="Icon"]',
    '[class*="symbol"]',
    '[class*="Symbol"]',
    ".glyphicon",
    '[class*="material-symbol"]',
    '[class*="material-icon"]',
    "mu",
    '[class*="mu-"]',
    ".typcn",
    '[class*="vjs-"]',
  ];
  function Q(e, t) {
    if (
      (function (e) {
        return null != e.length;
      })(e)
    )
      for (let n = 0, r = e.length; n < r; n++) t(e[n]);
    else for (const n of e) t(n);
  }
  function K(e, t) {
    Q(t, (t) => e.push(t));
  }
  function Y(e, t, n, r, o) {
    return ((e - t) * (o - r)) / (n - t) + r;
  }
  function J(e, t, n) {
    return Math.min(n, Math.max(t, e));
  }
  function X(e, t) {
    const n = [];
    for (let r = 0, o = e.length; r < o; r++) {
      n[r] = [];
      for (let o = 0, s = t[0].length; o < s; o++) {
        let s = 0;
        for (let n = 0, a = e[0].length; n < a; n++) s += e[r][n] * t[n][o];
        n[r][o] = s;
      }
    }
    return n;
  }
  function Z(e) {
    let t = ee.identity();
    return (
      0 !== e.sepia && (t = X(t, ee.sepia(e.sepia / 100))),
      0 !== e.grayscale && (t = X(t, ee.grayscale(e.grayscale / 100))),
      100 !== e.contrast && (t = X(t, ee.contrast(e.contrast / 100))),
      100 !== e.brightness && (t = X(t, ee.brightness(e.brightness / 100))),
      1 === e.mode && (t = X(t, ee.invertNHue())),
      t
    );
  }
  const ee = {
    identity: () => [
      [1, 0, 0, 0, 0],
      [0, 1, 0, 0, 0],
      [0, 0, 1, 0, 0],
      [0, 0, 0, 1, 0],
      [0, 0, 0, 0, 1],
    ],
    invertNHue: () => [
      [0.333, -0.667, -0.667, 0, 1],
      [-0.667, 0.333, -0.667, 0, 1],
      [-0.667, -0.667, 0.333, 0, 1],
      [0, 0, 0, 1, 0],
      [0, 0, 0, 0, 1],
    ],
    brightness: (e) => [
      [e, 0, 0, 0, 0],
      [0, e, 0, 0, 0],
      [0, 0, e, 0, 0],
      [0, 0, 0, 1, 0],
      [0, 0, 0, 0, 1],
    ],
    contrast(e) {
      const t = (1 - e) / 2;
      return [
        [e, 0, 0, 0, t],
        [0, e, 0, 0, t],
        [0, 0, e, 0, t],
        [0, 0, 0, 1, 0],
        [0, 0, 0, 0, 1],
      ];
    },
    sepia: (e) => [
      [
        0.393 + 0.607 * (1 - e),
        0.769 - 0.769 * (1 - e),
        0.189 - 0.189 * (1 - e),
        0,
        0,
      ],
      [
        0.349 - 0.349 * (1 - e),
        0.686 + 0.314 * (1 - e),
        0.168 - 0.168 * (1 - e),
        0,
        0,
      ],
      [
        0.272 - 0.272 * (1 - e),
        0.534 - 0.534 * (1 - e),
        0.131 + 0.869 * (1 - e),
        0,
        0,
      ],
      [0, 0, 0, 1, 0],
      [0, 0, 0, 0, 1],
    ],
    grayscale: (e) => [
      [
        0.2126 + 0.7874 * (1 - e),
        0.7152 - 0.7152 * (1 - e),
        0.0722 - 0.0722 * (1 - e),
        0,
        0,
      ],
      [
        0.2126 - 0.2126 * (1 - e),
        0.7152 + 0.2848 * (1 - e),
        0.0722 - 0.0722 * (1 - e),
        0,
        0,
      ],
      [
        0.2126 - 0.2126 * (1 - e),
        0.7152 - 0.7152 * (1 - e),
        0.0722 + 0.9278 * (1 - e),
        0,
        0,
      ],
      [0, 0, 0, 1, 0],
      [0, 0, 0, 0, 1],
    ],
  };
  var te;
  function ne(e) {
    const t = [];
    return (
      e.mode === te.dark && t.push("invert(100%) hue-rotate(180deg)"),
      100 !== e.brightness && t.push(`brightness(${e.brightness}%)`),
      100 !== e.contrast && t.push(`contrast(${e.contrast}%)`),
      0 !== e.grayscale && t.push(`grayscale(${e.grayscale}%)`),
      0 !== e.sepia && t.push(`sepia(${e.sepia}%)`),
      0 === t.length ? null : t.join(" ")
    );
  }
  function re(e) {
    const t = [],
      n = [];
    let r;
    for (let o = 0, s = e.length; o < s; o++) {
      const s = e[o];
      if (s && " " !== s) {
        if (se.has(s)) {
          const e = se.get(s);
          for (; n.length; ) {
            const r = se.get(n[0]);
            if (!r) break;
            if (!e.lessOrEqualThan(r)) break;
            t.push(n.shift());
          }
          n.unshift(s);
        } else !r || se.has(r) ? t.push(s) : (t[t.length - 1] += s);
        r = s;
      }
    }
    t.push(...n);
    const o = [];
    for (let e = 0, n = t.length; e < n; e++) {
      const n = se.get(t[e]);
      if (n) {
        const e = o.splice(0, 2);
        o.push(n.exec(e[1], e[0]));
      } else o.unshift(parseFloat(t[e]));
    }
    return o[0];
  }
  !(function (e) {
    ((e[(e.light = 0)] = "light"), (e[(e.dark = 1)] = "dark"));
  })(te || (te = {}));
  class oe {
    constructor(e, t) {
      ((this.precendce = e), (this.execMethod = t));
    }
    exec(e, t) {
      return this.execMethod(e, t);
    }
    lessOrEqualThan(e) {
      return this.precendce <= e.precendce;
    }
  }
  const se = new Map([
      ["+", new oe(1, (e, t) => e + t)],
      ["-", new oe(1, (e, t) => e - t)],
      ["*", new oe(2, (e, t) => e * t)],
      ["/", new oe(2, (e, t) => e / t)],
    ]),
    ae = new Map(),
    ie = new Map();
  function ce(e) {
    if (((e = e.trim()), ie.has(e))) return ie.get(e);
    e.includes("calc(") &&
      (e = (function (e) {
        let t = 0;
        const n = (t, n, r) => {
          e = e.substring(0, t) + r + e.substring(n);
        };
        for (; -1 !== (t = e.indexOf("calc(")); ) {
          const r = F(e, t);
          if (!r) break;
          let o = e.slice(r.start + 1, r.end - 1);
          const s = o.includes("%");
          o = o.split("%").join("");
          const a = Math.round(re(o));
          n(r.start - 4, r.end, a + (s ? "%" : ""));
        }
        return e;
      })(e));
    const t = ke(e);
    return t ? (ie.set(e, t), t) : null;
  }
  function le(e) {
    if (ae.has(e)) return ae.get(e);
    const t = ce(e);
    if (!t) return null;
    const n = de(t);
    return (ae.set(e, n), n);
  }
  function ue({ h: e, s: t, l: n, a: r = 1 }) {
    if (0 === t) {
      const [e, t, o] = [n, n, n].map((e) => Math.round(255 * e));
      return { r: e, g: o, b: t, a: r };
    }
    const o = (1 - Math.abs(2 * n - 1)) * t,
      s = o * (1 - Math.abs(((e / 60) % 2) - 1)),
      a = n - o / 2,
      [i, c, l] = (
        e < 60
          ? [o, s, 0]
          : e < 120
            ? [s, o, 0]
            : e < 180
              ? [0, o, s]
              : e < 240
                ? [0, s, o]
                : e < 300
                  ? [s, 0, o]
                  : [o, 0, s]
      ).map((e) => Math.round(255 * (e + a)));
    return { r: i, g: c, b: l, a: r };
  }
  function de({ r: e, g: t, b: n, a: r = 1 }) {
    const o = e / 255,
      s = t / 255,
      a = n / 255,
      i = Math.max(o, s, a),
      c = Math.min(o, s, a),
      l = i - c,
      u = (i + c) / 2;
    if (0 === l) return { h: 0, s: 0, l: u, a: r };
    let d =
      60 *
      (i === o
        ? ((s - a) / l) % 6
        : i === s
          ? (a - o) / l + 2
          : (o - s) / l + 4);
    d < 0 && (d += 360);
    return { h: d, s: l / (1 - Math.abs(2 * u - 1)), l: u, a: r };
  }
  function he(e, t = 0) {
    const n = e.toFixed(t);
    if (0 === t) return n;
    const r = n.indexOf(".");
    if (r >= 0) {
      const e = n.match(/0+$/);
      if (e)
        return e.index === r + 1 ? n.substring(0, r) : n.substring(0, e.index);
    }
    return n;
  }
  function fe({ r: e, g: t, b: n, a: r }) {
    return `#${(null != r && r < 1 ? [e, t, n, Math.round(255 * r)] : [e, t, n]).map((e) => `${e < 16 ? "0" : ""}${e.toString(16)}`).join("")}`;
  }
  function me(e) {
    const { h: t, s: n, l: r, a: o } = e;
    return null != o && o < 1
      ? `hsla(${he(t)}, ${he(100 * n)}%, ${he(100 * r)}%, ${he(o, 2)})`
      : `hsl(${he(t)}, ${he(100 * n)}%, ${he(100 * r)}%)`;
  }
  const pe = /^rgba?\([^\(\)]+\)$/,
    ge = /^hsla?\([^\(\)]+\)$/,
    be = /^#[0-9a-f]+$/i,
    ye = ["color", "color-mix", "hwb", "lab", "lch", "oklab", "oklch"];
  function ke(e) {
    const t = e.trim().toLowerCase();
    if (t.includes("(from "))
      return t.indexOf("(from") !== t.lastIndexOf("(from") ? null : Me(t);
    if (t.match(pe))
      return t.startsWith("rgb(#") || t.startsWith("rgba(#")
        ? t.lastIndexOf("rgb") > 0
          ? null
          : Me(t)
        : Ee(t);
    if (t.match(ge))
      return (function (e) {
        const [t, n, r, o = 1] = we(e, ve, Ce);
        if (null == t || null == n || null == r || null == o) return null;
        return ue({ h: t, s: n, l: r, a: o });
      })(t);
    if (t.match(be))
      return (function (e) {
        const t = e.substring(1);
        switch (t.length) {
          case 3:
          case 4: {
            const [e, n, r] = [0, 1, 2].map((e) =>
              parseInt(`${t[e]}${t[e]}`, 16),
            );
            return {
              r: e,
              g: n,
              b: r,
              a: 3 === t.length ? 1 : parseInt(`${t[3]}${t[3]}`, 16) / 255,
            };
          }
          case 6:
          case 8: {
            const [e, n, r] = [0, 2, 4].map((e) =>
              parseInt(t.substring(e, e + 2), 16),
            );
            return {
              r: e,
              g: n,
              b: r,
              a: 6 === t.length ? 1 : parseInt(t.substring(6, 8), 16) / 255,
            };
          }
        }
        return null;
      })(t);
    if (xe.has(t))
      return (function (e) {
        const t = xe.get(e);
        return { r: (t >> 16) & 255, g: (t >> 8) & 255, b: 255 & t, a: 1 };
      })(t);
    if (Re.has(t))
      return (function (e) {
        const t = Re.get(e);
        return { r: (t >> 16) & 255, g: (t >> 8) & 255, b: 255 & t, a: 1 };
      })(t);
    if ("transparent" === t) return { r: 0, g: 0, b: 0, a: 0 };
    if (
      t.endsWith(")") &&
      ye.some(
        (e) => t.startsWith(e) && "(" === t[e.length] && 0 === t.lastIndexOf(e),
      )
    )
      return Me(t);
    if (t.startsWith("light-dark(") && t.endsWith(")")) {
      const e = t.match(
        /^light-dark\(\s*([a-z]+(\(.*\))?),\s*([a-z]+(\(.*\))?)\s*\)$/,
      );
      if (e) {
        return ke(
          matchMedia("(prefers-color-scheme: dark)").matches ? e[3] : e[1],
        );
      }
    }
    return null;
  }
  function we(e, t, n) {
    const r = (function (e) {
        const t = [];
        let n = 0,
          r = !1;
        const o = e.indexOf("(");
        e = e.substring(o + 1, e.length - 1);
        for (let o = 0; o < e.length; o++) {
          const s = e[o];
          (s >= "0" && s <= "9") || "." === s || "+" === s || "-" === s
            ? (r = !0)
            : !r || (" " !== s && "," !== s && "/" !== s)
              ? r || (n = o + 1)
              : (t.push(e.substring(n, o)), (r = !1), (n = o + 1));
        }
        return (r && t.push(e.substring(n, e.length)), t);
      })(e),
      o = Object.entries(n);
    return r
      .map((e) => e.trim())
      .map((e, n) => {
        let r;
        const s = o.find(([t]) => e.endsWith(t));
        return (
          (r = s
            ? (parseFloat(e.substring(0, e.length - s[0].length)) / s[1]) * t[n]
            : parseFloat(e)),
          t[n] > 1 ? Math.round(r) : r
        );
      });
  }
  const Se = [255, 255, 255, 1],
    _e = { "%": 100 };
  function Ee(e) {
    const [t, n, r, o = 1] = we(e, Se, _e);
    return null == t || null == n || null == r || null == o
      ? null
      : { r: t, g: n, b: r, a: o };
  }
  const ve = [360, 1, 1, 1],
    Ce = { "%": 100, deg: 360, rad: 2 * Math.PI, turn: 1 };
  const xe = new Map(
      Object.entries({
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgrey: 11119017,
        darkgreen: 25600,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        grey: 8421504,
        green: 32768,
        greenyellow: 11403055,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgrey: 13882323,
        lightgreen: 9498256,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074,
      }),
    ),
    Re = new Map(
      Object.entries({
        ActiveBorder: 3906044,
        ActiveCaption: 0,
        AppWorkspace: 11184810,
        Background: 6513614,
        ButtonFace: 16777215,
        ButtonHighlight: 15329769,
        ButtonShadow: 10461343,
        ButtonText: 0,
        CaptionText: 0,
        GrayText: 8355711,
        Highlight: 11720703,
        HighlightText: 0,
        InactiveBorder: 16777215,
        InactiveCaption: 16777215,
        InactiveCaptionText: 0,
        InfoBackground: 16514245,
        InfoText: 0,
        Menu: 16185078,
        MenuText: 16777215,
        Scrollbar: 11184810,
        ThreeDDarkShadow: 0,
        ThreeDFace: 12632256,
        ThreeDHighlight: 16777215,
        ThreeDLightShadow: 16777215,
        ThreeDShadow: 0,
        Window: 15527148,
        WindowFrame: 11184810,
        WindowText: 0,
        "-webkit-focus-ring-color": 15046400,
      }).map(([e, t]) => [e.toLowerCase(), t]),
    );
  function $e(e, t, n) {
    return (0.2126 * e + 0.7152 * t + 0.0722 * n) / 255;
  }
  let Ae, Te;
  function Me(e) {
    (Te ||
      ((Ae = document.createElement("canvas")),
      (Ae.width = 1),
      (Ae.height = 1),
      (Te = Ae.getContext("2d", { willReadFrequently: !0 }))),
      (Te.fillStyle = e),
      Te.fillRect(0, 0, 1, 1));
    const t = Te.getImageData(0, 0, 1, 1).data;
    return Ee(`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${(t[3] / 255).toFixed(2)})`);
  }
  function Ve(e) {
    let t,
      n = !1,
      r = null;
    return Object.assign(
      (...o) => {
        ((t = o),
          r
            ? (n = !0)
            : (e(...t),
              (r = requestAnimationFrame(() => {
                ((r = null), n && (e(...t), (n = !1)));
              }))));
      },
      {
        cancel: () => {
          (cancelAnimationFrame(r), (n = !1), (r = null));
        },
      },
    );
  }
  const Le = new Set();
  function De() {
    if ("randomUUID" in crypto) {
      const e = crypto.randomUUID();
      return (
        e.substring(0, 8) +
        e.substring(9, 13) +
        e.substring(14, 18) +
        e.substring(19, 23) +
        e.substring(24)
      );
    }
    return "getRandomValues" in crypto
      ? Array.from(crypto.getRandomValues(new Uint8Array(16)))
          .map((e) => {
            return ((t = e) < 16 ? "0" : "") + t.toString(16);
            var t;
          })
          .join("")
      : Math.floor(Math.random() * 2 ** 55).toString(36);
  }
  let Pe = null,
    Oe = !document.hidden;
  const Ne = { capture: !0, passive: !0 };
  function Fe(e) {
    const t = Boolean(Pe);
    ((Pe = () => {
      document.hidden || (We(), e(), (Oe = !0));
    }),
      t ||
        (document.addEventListener("visibilitychange", Pe, Ne),
        window.addEventListener("pageshow", Pe, Ne),
        window.addEventListener("focus", Pe, Ne)));
  }
  function We() {
    (document.removeEventListener("visibilitychange", Pe, Ne),
      window.removeEventListener("pageshow", Pe, Ne),
      window.removeEventListener("focus", Pe, Ne),
      (Pe = null));
  }
  function Ie() {
    return Oe;
  }
  function qe(e) {
    let t = 0;
    return (
      e.seconds && (t += 1e3 * e.seconds),
      e.minutes && (t += 60 * e.minutes * 1e3),
      e.hours && (t += 60 * e.hours * 60 * 1e3),
      e.days && (t += 24 * e.days * 60 * 60 * 1e3),
      t
    );
  }
  function je(e) {
    e && e.parentNode && e.parentNode.removeChild(e);
  }
  function Ue(e, t, n = Function.prototype) {
    const r = qe({ seconds: 2 }),
      o = qe({ seconds: 10 });
    let s = e.previousSibling,
      a = e.parentNode;
    if (!a)
      throw new Error(
        "Unable to watch for node position: parent element not found",
      );
    if ("prev-sibling" === t && !s)
      throw new Error(
        "Unable to watch for node position: there is no previous sibling",
      );
    let i = 0,
      c = null,
      l = null;
    const u = Ve(() => {
        if (l) return;
        i++;
        const h = Date.now();
        if (null == c) c = h;
        else if (i >= 10) {
          if (h - c < o)
            return void (l = setTimeout(() => {
              ((c = null), (i = 0), (l = null), u());
            }, r));
          ((c = h), (i = 1));
        }
        if (
          ("head" === t &&
            s &&
            s.parentNode !== a &&
            (s = document.head.lastChild),
          "prev-sibling" === t)
        ) {
          if (null == s.parentNode) return void f();
          s.parentNode !== a && m(s.parentNode);
        }
        ("head" !== t || a.isConnected || (a = document.head),
          a.insertBefore(e, s && s.isConnected ? s.nextSibling : a.firstChild),
          d.takeRecords(),
          n && n());
      }),
      d = new MutationObserver(() => {
        (("head" === t && (e.parentNode !== a || !e.parentNode.isConnected)) ||
          ("prev-sibling" === t && e.previousSibling !== s)) &&
          u();
      }),
      h = () => {
        d.observe(a, { childList: !0 });
      },
      f = () => {
        (clearTimeout(l), d.disconnect(), u.cancel());
      },
      m = (e) => {
        ((a = e), f(), h());
      };
    return (
      h(),
      {
        run: h,
        stop: f,
        skip: () => {
          d.takeRecords();
        },
      }
    );
  }
  function Be(e, t) {
    if (null == e) return;
    const n = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
      acceptNode: (e) =>
        null == e.shadowRoot
          ? NodeFilter.FILTER_SKIP
          : NodeFilter.FILTER_ACCEPT,
    });
    for (
      let r = e.shadowRoot ? n.currentNode : n.nextNode();
      null != r;
      r = n.nextNode()
    )
      r.classList.contains("surfingkeys_hints_host") ||
        (t(r), Be(r.shadowRoot, t));
  }
  let He = () =>
    "complete" === document.readyState || "interactive" === document.readyState;
  const Ge = new Set();
  function ze(e) {
    He() ? e() : Ge.add(e);
  }
  function Qe(e) {
    Ge.delete(e);
  }
  function Ke() {
    return "complete" === document.readyState;
  }
  const Ye = new Set();
  function Je(e) {
    Ke() ? e() : Ye.add(e);
  }
  if (!He()) {
    const e = () => {
      He() &&
        (Ge.forEach((e) => e()),
        Ge.clear(),
        Ke() &&
          (document.removeEventListener("readystatechange", e),
          Ye.forEach((e) => e()),
          Ye.clear()));
    };
    document.addEventListener("readystatechange", e);
  }
  const Xe = new Map(),
    Ze = new WeakMap();
  function et(e, t) {
    let n, r, o;
    if (Xe.has(e)) ((n = Xe.get(e)), (r = Ze.get(n)));
    else {
      let t = !1,
        s = !1;
      ((n = new MutationObserver((n) => {
        if (
          (function (e) {
            if (e.length > 1e3) return !0;
            let t = 0;
            for (let n = 0; n < e.length; n++)
              if (((t += e[n].addedNodes.length), t > 1e3)) return !0;
            return !1;
          })(n)
        )
          (!t || He()
            ? r.forEach(({ onHugeMutations: t }) => t(e))
            : s ||
              ((o = () => r.forEach(({ onHugeMutations: t }) => t(e))),
              ze(o),
              (s = !0)),
            (t = !0));
        else {
          const t = (function (e) {
            const t = new Set(),
              n = new Set(),
              r = new Set();
            e.forEach((e) => {
              (Q(e.addedNodes, (e) => {
                e instanceof Element && e.isConnected && t.add(e);
              }),
                Q(e.removedNodes, (e) => {
                  e instanceof Element &&
                    (e.isConnected ? (r.add(e), t.delete(e)) : n.add(e));
                }));
            });
            const o = [],
              s = [];
            return (
              t.forEach((e) => {
                t.has(e.parentElement) && o.push(e);
              }),
              n.forEach((e) => {
                n.has(e.parentElement) && s.push(e);
              }),
              o.forEach((e) => t.delete(e)),
              s.forEach((e) => n.delete(e)),
              { additions: t, moves: r, deletions: n }
            );
          })(n);
          r.forEach(({ onMinorMutations: n }) => n(e, t));
        }
      })),
        n.observe(e, { childList: !0, subtree: !0 }),
        Xe.set(e, n),
        (r = new Set()),
        Ze.set(n, r));
    }
    return (
      r.add(t),
      {
        disconnect() {
          (r.delete(t),
            o && Qe(o),
            0 === r.size && (n.disconnect(), Ze.delete(n), Xe.delete(e)));
        },
      }
    );
  }
  function tt(e, t, n) {
    Q(e, (e) => {
      if (gt(e)) (t(e), e.cssRules?.length > 0 && tt(e.cssRules, t));
      else if (
        (function (e) {
          if (!e) return !1;
          if (dt.has(e)) return !1;
          if (ht.has(e)) return !0;
          if (e.href) return (ht.add(e), !0);
          return !1;
        })(e)
      )
        try {
          tt(e.styleSheet.cssRules, t, n);
        } catch (e) {
          n?.();
        }
      else if (bt(e)) {
        const r = Array.from(e.media),
          o = r.some(
            (e) =>
              e.startsWith("screen") ||
              e.startsWith("all") ||
              e.startsWith("("),
          ),
          s = r.some((e) => e.startsWith("print") || e.startsWith("speech"));
        (!o && s) || tt(e.cssRules, t, n);
      } else
        !(function (e) {
          if (!e) return !1;
          if (dt.has(e)) return !1;
          if (mt.has(e)) return !0;
          if (e instanceof CSSSupportsRule) return (mt.add(e), !0);
          return !1;
        })(e)
          ? yt(e) && tt(e.cssRules, t, n)
          : CSS.supports(e.conditionText) && tt(e.cssRules, t, n);
    });
  }
  const nt = [
      "background",
      "border",
      "border-color",
      "border-bottom",
      "border-left",
      "border-right",
      "border-top",
      "outline",
      "outline-color",
    ],
    rt = p ? nt.map((e) => [e, new RegExp(`${e}:\\s*(.*?)\\s*;`)]) : null;
  function ot(e, t) {
    Q(e, (n) => {
      const r = e.getPropertyValue(n).trim();
      r && t(n, r);
    });
    const n = e.cssText;
    (n.includes("var(") &&
      (p
        ? rt.forEach(([e, r]) => {
            const o = n.match(r);
            if (o && o[1]) {
              const n = o[1].trim();
              t(e, n);
            }
          })
        : nt.forEach((n) => {
            const r = e.getPropertyValue(n);
            r && r.includes("var(") && t(n, r);
          })),
      n.includes("background-color: ;") &&
        !e.getPropertyValue("background") &&
        st("background", e, t),
      n.includes("border-") &&
        n.includes("-color: ;") &&
        !e.getPropertyValue("border") &&
        st("border", e, t));
  }
  function st(e, t, n) {
    const r = t.parentRule;
    if (gt(r)) {
      const t = r.parentStyleSheet?.ownerNode?.textContent;
      if (t) {
        let o = r.selectorText.replaceAll(/[\^$.*+?\(\)\[\]{}|\-\\]/g, "\\$&");
        ((o = o.replaceAll(/\s+/g, "\\s*")), (o = o.replaceAll(/::/g, "::?")));
        const s = new RegExp(`${o}\\s*{[^}]*${e}:\\s*([^;}]+)`),
          a = t.match(s);
        a && n(e, a[1]);
      } else "background" === e && n("background-color", "#ffffff");
    }
  }
  const at = /url\((('.*?')|(".*?")|([^\)]*?))\)/g,
    it = /@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)? ?(screen)?;?/gi;
  function ct(e) {
    return e
      .trim()
      .replace(/[\n\r\\]+/g, "")
      .replace(/^url\((.*)\)$/, "$1")
      .trim()
      .replace(/^"(.*)"$/, "$1")
      .replace(/^'(.*)'$/, "$1")
      .replace(/(?:\\(.))/g, "$1");
  }
  function lt(e) {
    const t = H(e);
    return `${t.origin}${t.pathname.replace(/\?.*$/, "").replace(/(\/)([^\/]+)$/i, "$1")}`;
  }
  const ut = /@font-face\s*{[^}]*}/g;
  const dt = new WeakSet(),
    ht = new WeakSet(),
    ft = new WeakSet(),
    mt = new WeakSet(),
    pt = new WeakSet();
  function gt(e) {
    return !!e && (!!dt.has(e) || (!!e.selectorText && (dt.add(e), !0)));
  }
  function bt(e) {
    return !!e && !dt.has(e) && (!!ft.has(e) || (!!e.media && (ft.add(e), !0)));
  }
  function yt(e) {
    return (
      !!e &&
      !dt.has(e) &&
      (!!pt.has(e) ||
        (!!(w && e instanceof CSSLayerBlockRule) && (pt.add(e), !0)))
    );
  }
  const kt = new WeakMap();
  function wt(e, t) {
    kt.set(e, t);
  }
  let St;
  const _t = new Map();
  function Et(e) {
    St = e;
    const t = ["background", "text", "border"];
    _t.forEach((e) => {
      t.forEach((t) => {
        if (e[t]) {
          const { variable: n, value: r } = e[t];
          St?.cssRules[0].style.setProperty(n, r);
        }
      });
    });
  }
  function vt(e, t) {
    return `var(${t[e].variable}, ${t[e].value})`;
  }
  function Ct() {
    _t.clear();
  }
  function xt(e) {
    return e[
      1 === e.mode ? "darkSchemeBackgroundColor" : "lightSchemeBackgroundColor"
    ];
  }
  function Rt(e) {
    return e[1 === e.mode ? "darkSchemeTextColor" : "lightSchemeTextColor"];
  }
  const $t = new Map();
  const At = ["r", "g", "b", "a"],
    Tt = [
      "mode",
      "brightness",
      "contrast",
      "grayscale",
      "sepia",
      "darkSchemeBackgroundColor",
      "darkSchemeTextColor",
      "lightSchemeBackgroundColor",
      "lightSchemeTextColor",
    ];
  function Mt(e, t, n, r, o) {
    let s;
    $t.has(n) ? (s = $t.get(n)) : ((s = new Map()), $t.set(n, s));
    const a = (function (e, t) {
      let n = "";
      return (
        At.forEach((t) => {
          n += `${e[t]};`;
        }),
        Tt.forEach((e) => {
          n += `${t[e]};`;
        }),
        n
      );
    })(e, t);
    if (s.has(a)) return s.get(a);
    const i = n(de(e), null == r ? null : le(r), null == o ? null : le(o)),
      { r: c, g: l, b: u, a: d } = ue(i),
      h = Z({ ...t, mode: 0 }),
      [f, m, p] = (function ([e, t, n], r) {
        const o = X(r, [[e / 255], [t / 255], [n / 255], [1], [1]]);
        return [0, 1, 2].map((e) => J(Math.round(255 * o[e][0]), 0, 255));
      })([c, l, u], h),
      g =
        1 === d
          ? fe({ r: f, g: m, b: p })
          : (function (e) {
              const { r: t, g: n, b: r, a: o } = e;
              return null != o && o < 1
                ? `rgba(${he(t)}, ${he(n)}, ${he(r)}, ${he(o, 2)})`
                : `rgb(${he(t)}, ${he(n)}, ${he(r)})`;
            })({ r: f, g: m, b: p, a: d });
    return (s.set(a, g), g);
  }
  function Vt(e, t, n, r) {
    const o = (function (e, t) {
      const n = fe(t),
        r = _t.get(n);
      return r?.[e] ? vt(e, r) : null;
    })(e, t);
    if (o) return o;
    return (function (e, t, n) {
      const r = fe(t);
      let o;
      _t.has(r) ? (o = _t.get(r)) : ((o = { parsed: ce(r) }), _t.set(r, o));
      const s = `--darkreader-${e}-${r.replace("#", "")}`;
      return (
        (o[e] = { variable: s, value: n }),
        St?.cssRules[0]?.style && St?.cssRules[0].style.setProperty(s, n),
        vt(e, o)
      );
    })(e, t, r(t, n));
  }
  function Lt(e, t) {
    const n = xt(t);
    return Mt(e, t, Dt, Rt(t), n);
  }
  function Dt({ h: e, s: t, l: n, a: r }, o, s) {
    const a = n < 0.5;
    let i;
    if (a) i = n < 0.2 || t < 0.12;
    else {
      i = t < 0.24 || (n > 0.8 && e > 200 && e < 280);
    }
    let c = e,
      l = t;
    i && (a ? ((c = o.h), (l = o.s)) : ((c = s.h), (l = s.s)));
    return { h: c, s: l, l: Y(n, 0, 1, o.l, s.l), a: r };
  }
  function Pt({ h: e, s: t, l: n, a: r }, o) {
    const s = t < 0.12 || (n > 0.8 && e > 200 && e < 280);
    if (n < 0.5) {
      const a = Y(n, 0, 0.5, 0, 0.4);
      if (s) {
        return { h: o.h, s: o.s, l: a, a: r };
      }
      return { h: e, s: t, l: a, a: r };
    }
    let a = Y(n, 0.5, 1, 0.4, o.l);
    if (s) {
      return { h: o.h, s: o.s, l: a, a: r };
    }
    let i = e;
    if (e > 60 && e < 180) {
      i = e > 120 ? Y(e, 120, 180, 135, 180) : Y(e, 60, 120, 60, 105);
    }
    return (i > 40 && i < 80 && (a *= 0.75), { h: i, s: t, l: a, a: r });
  }
  function Ot(e, t) {
    if (0 === t.mode) return Lt(e, t);
    return Mt(e, t, Pt, xt(t));
  }
  function Nt(e, t, n = !0) {
    return n ? Vt("background", e, t, Ot) : Ot(e, t);
  }
  const Ft = 0.55;
  function Wt(e) {
    return Y(e, 205, 245, 205, 220);
  }
  function It({ h: e, s: t, l: n, a: r }, o) {
    const s = n < 0.2 || t < 0.24,
      a = !s && e > 205 && e < 245;
    if (n > 0.5) {
      const i = Y(n, 0.5, 1, Ft, o.l);
      if (s) {
        return { h: o.h, s: o.s, l: i, a: r };
      }
      let c = e;
      return (a && (c = Wt(e)), { h: c, s: t, l: i, a: r });
    }
    if (s) {
      return { h: o.h, s: o.s, l: Y(n, 0, 0.5, o.l, Ft), a: r };
    }
    let i,
      c = e;
    return (
      a
        ? ((c = Wt(e)),
          (i = Y(n, 0, 0.5, o.l, Math.min(1, 0.6000000000000001))))
        : (i = Y(n, 0, 0.5, o.l, Ft)),
      { h: c, s: t, l: i, a: r }
    );
  }
  function qt(e, t) {
    if (0 === t.mode) return Lt(e, t);
    return Mt(e, t, It, Rt(t));
  }
  function jt(e, t, n = !0) {
    return n ? Vt("text", e, t, qt) : qt(e, t);
  }
  function Ut({ h: e, s: t, l: n, a: r }, o, s) {
    let a = e,
      i = t;
    (n < 0.2 || t < 0.24) &&
      (n < 0.5 ? ((a = o.h), (i = o.s)) : ((a = s.h), (i = s.s)));
    return { h: a, s: i, l: Y(n, 0, 1, 0.5, 0.2), a: r };
  }
  function Bt(e, t) {
    if (0 === t.mode) return Lt(e, t);
    return Mt(e, t, Ut, Rt(t), xt(t));
  }
  function Ht(e, t, n = !0) {
    return n ? Vt("border", e, t, Bt) : Bt(e, t);
  }
  function Gt(e, t) {
    return Nt(e, t);
  }
  const zt = "conic-",
    Qt = zt.length,
    Kt = "radial-",
    Yt = "linear-";
  const Jt = "__darkreader__imageDetails_v2_list",
    Xt = "__darkreader__imageDetails_v2_",
    Zt = "__darkreader__cssFetch_";
  let en = 0;
  const tn = new Map(),
    nn = [];
  function rn() {
    (tn.forEach((e, t) => {
      if (t && t.startsWith("https://"))
        try {
          const n = JSON.stringify(e);
          (sessionStorage.setItem(`${Xt}${t}`, n), nn.push(t));
        } catch (e) {}
    }),
      tn.clear(),
      sessionStorage.setItem(Jt, JSON.stringify(nn)));
  }
  const on = 1e3 / 60;
  const sn = new Map(),
    an = new Map();
  async function cn(e) {
    return window.DarkReader?.Plugins?.fetch
      ? window.DarkReader.Plugins.fetch(e)
      : new Promise((t, n) => {
          const r = De();
          (sn.set(r, t),
            an.set(r, n),
            chrome.runtime.sendMessage({ type: a.FETCH, data: e, id: r }));
        });
  }
  chrome.runtime.onMessage.addListener(
    ({ type: e, data: t, error: n, id: r }) => {
      if (e === o.FETCH_RESPONSE) {
        const e = sn.get(r),
          o = an.get(r);
        (sn.delete(r),
          an.delete(r),
          n ? o && o("string" == typeof n ? new Error(n) : n) : e && e(t));
      }
    },
  );
  const ln = new (class {
    constructor() {
      ((this.queue = []), (this.timerId = null));
    }
    addTask(e) {
      (this.queue.push(e), this.scheduleFrame());
    }
    stop() {
      (null !== this.timerId &&
        (cancelAnimationFrame(this.timerId), (this.timerId = null)),
        (this.queue = []));
    }
    scheduleFrame() {
      this.timerId ||
        (this.timerId = requestAnimationFrame(() => {
          this.timerId = null;
          const e = Date.now();
          let t;
          for (; (t = this.queue.shift()); )
            if ((t(), Date.now() - e >= on)) {
              this.scheduleFrame();
              break;
            }
        }));
    }
  })();
  async function un(e) {
    return new Promise(async (t, n) => {
      try {
        const n = e.startsWith("data:")
            ? e
            : await (async function (e) {
                const t = new URL(e);
                if (t.origin === location.origin) return await v(e);
                return await cn({ url: e, responseType: "data-url" });
              })(e),
          r =
            xn(n) ??
            (await (async function (e, t) {
              const n = await E(e, t);
              return await n.blob();
            })(e));
        let o;
        ((o = n.startsWith("data:image/svg+xml")
          ? await fn(n)
          : ((await (async function (e) {
              try {
                return await createImageBitmap(e);
              } catch (t) {
                return (e.type, String(t), null);
              }
            })(r)) ?? (await fn(n)))),
          ln.addTask(() => {
            const r = (function (e) {
              pn ||
                (function () {
                  const e = mn,
                    t = mn;
                  ((pn = document.createElement("canvas")),
                    (pn.width = e),
                    (pn.height = t),
                    (gn = pn.getContext("2d", { willReadFrequently: !0 })),
                    (gn.imageSmoothingEnabled = !1));
                })();
              let t, n;
              e instanceof HTMLImageElement
                ? ((t = e.naturalWidth), (n = e.naturalHeight))
                : ((t = e.width), (n = e.height));
              if (0 === t || 0 === n)
                return {
                  isDark: !1,
                  isLight: !1,
                  isTransparent: !1,
                  isLarge: !1,
                };
              const r = t * n > bn,
                o = t * n,
                s = Math.min(1, Math.sqrt(mn / o)),
                a = Math.ceil(t * s),
                i = Math.ceil(n * s);
              (gn.clearRect(0, 0, a, i),
                gn.drawImage(e, 0, 0, t, n, 0, 0, a, i));
              const c = gn.getImageData(0, 0, a, i).data,
                l = 0.05,
                u = 0.4,
                d = 0.7;
              let h,
                f,
                m,
                p,
                g,
                b,
                y,
                k,
                w = 0,
                S = 0,
                _ = 0;
              for (m = 0; m < i; m++)
                for (f = 0; f < a; f++)
                  ((h = 4 * (m * a + f)),
                    (p = c[h + 0]),
                    (g = c[h + 1]),
                    (b = c[h + 2]),
                    (y = c[h + 3]),
                    y / 255 < l
                      ? w++
                      : ((k = $e(p, g, b)), k < u && S++, k > d && _++));
              const E = a * i,
                v = E - w;
              return {
                isDark: S / v >= 0.7,
                isLight: _ / v >= 0.7,
                isTransparent: w / E >= 0.1,
                isLarge: r,
              };
            })(o);
            t({
              src: e,
              dataURL: r.isLarge ? "" : n,
              width: o.width,
              height: o.height,
              ...r,
            });
          }));
      } catch (e) {
        n(e);
      }
    });
  }
  const dn = 256;
  let hn = 0;
  async function fn(e) {
    return new Promise((t, n) => {
      const r = new Image();
      ((r.onload = () => t(r)),
        (r.onerror = () => n(`Unable to load image ${e}`)),
        ++hn <= dn || Ke() ? (r.src = e) : Je(() => (r.src = e)));
    });
  }
  const mn = 1024;
  let pn, gn;
  const bn = 262144;
  let yn = null,
    kn = !1,
    wn = !1;
  const Sn = [];
  (document.addEventListener(
    "__darkreader__inlineScriptsAllowed",
    () => (kn = !0),
    { once: !0 },
  ),
    document.addEventListener("securitypolicyviolation", function e(t) {
      "blob" === t.blockedURI &&
        ((yn = !1), document.removeEventListener("securitypolicyviolation", e));
    }));
  const _n = new Set();
  function En({ dataURL: e, width: t, height: n }, r) {
    e.startsWith("data:image/svg+xml") &&
      (e = e.replace(/[<>&'"]/g, (e) => vn[e] ?? e));
    const o = [
      `<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${t}" height="${n}">`,
      "<defs>",
      '<filter id="darkreader-image-filter">',
      `<feColorMatrix type="matrix" values="${Z(r)
        .slice(0, 4)
        .map((e) => e.map((e) => e.toFixed(3)).join(" "))
        .join(" ")}" />`,
      "</filter>",
      "</defs>",
      `<image width="${t}" height="${n}" filter="url(#darkreader-image-filter)" xlink:href="${e}" />`,
      "</svg>",
    ].join("");
    if (!yn) return `data:image/svg+xml;base64,${btoa(o)}`;
    const s = new Uint8Array(o.length);
    for (let e = 0; e < o.length; e++) s[e] = o.charCodeAt(e);
    const a = new Blob([s], { type: "image/svg+xml" }),
      i = URL.createObjectURL(a);
    return (_n.add(i), i);
  }
  const vn = {
    "<": "&lt;",
    ">": "&gt;",
    "&": "&amp;",
    "'": "&apos;",
    '"': "&quot;",
  };
  const Cn = new Map();
  function xn(e) {
    const t = e.indexOf(":"),
      n = e.indexOf(";", t + 1),
      r = e.indexOf(",", n + 1),
      o = e.substring(n + 1, r).toLocaleLowerCase(),
      s = e.substring(t + 1, n);
    if ("base64" !== o || !s) return null;
    const a = atob(e.substring(r + 1)),
      i = new Uint8Array(a.length);
    for (let e = 0; e < a.length; e++) i[e] = a.charCodeAt(e);
    return new Blob([i], { type: s });
  }
  function Rn() {
    (ln && ln.stop(),
      (pn = null),
      (gn = null),
      _n.forEach((e) => URL.revokeObjectURL(e)),
      _n.clear(),
      Cn.forEach((e) => URL.revokeObjectURL(e)),
      Cn.clear());
  }
  function $n(e, t) {
    return Boolean(e && e.getPropertyPriority(t));
  }
  function An(e, t, n, r, o, s) {
    let a = null;
    if (e.startsWith("--"))
      a = (function (e, t, n, r, o, s) {
        return e.getModifierForVariable({
          varName: t,
          sourceValue: n,
          rule: r,
          ignoredImgSelectors: o,
          isCancelled: s,
        });
      })(r, e, t, n, o, s);
    else if (t.includes("var("))
      a = (function (e, t, n) {
        return e.getModifierForVarDependant(t, n);
      })(r, e, t);
    else if ("color-scheme" === e)
      a = (e) => (0 === e.mode ? "dark light" : "dark");
    else if ("scrollbar-color" === e)
      a = (function (e) {
        const t = e.match(/^\s*([a-z]+(\(.*\))?)\s+([a-z]+(\(.*\))?)\s*$/);
        if (!t) return e;
        const n = ce(t[1]),
          r = ce(t[3]);
        if (!n || !r) return ([n, r].filter((e) => !e), null);
        return (e) => `${jt(n, e)} ${Nt(r, e)}`;
      })(t);
    else if (
      (e.includes("color") && "-webkit-print-color-adjust" !== e) ||
      "fill" === e ||
      "stroke" === e ||
      "stop-color" === e
    )
      if (e.startsWith("border") && "border-color" !== e && "initial" === t) {
        const r = e.substring(0, e.length - 6),
          o = n.style.getPropertyValue(r);
        o.startsWith("0px") || "none" === o ? ((e = r), (a = o)) : (a = t);
      } else
        a = (function (e, t, n) {
          if (On.has(t.toLowerCase()) && ("color" !== e || "initial" !== t))
            return t;
          let r = null;
          r =
            "color" === e && "initial" === t
              ? { r: 0, g: 0, b: 0, a: 1 }
              : ce(t);
          if (!r) return null;
          if (e.includes("background"))
            return (n.style.webkitMaskImage &&
              "none" !== n.style.webkitMaskImage) ||
              (n.style.webkitMask && !n.style.webkitMask.startsWith("none")) ||
              (n.style.mask && "none" !== n.style.mask) ||
              (n.style.getPropertyValue("mask-image") &&
                "none" !== n.style.getPropertyValue("mask-image"))
              ? (e) => jt(r, e)
              : (e) => Nt(r, e);
          if (e.includes("border") || e.includes("outline"))
            return (e) => Ht(r, e);
          return (e) => jt(r, e);
        })(e, t, n);
    else
      "background-image" === e || "list-style-image" === e
        ? (a = Gn(t, n, o, s))
        : e.includes("shadow") &&
          (a = (function (e) {
            const t = zn(e);
            if (!t) return null;
            return (e) => t(e).result;
          })(t));
    return a
      ? { property: e, value: a, important: $n(n.style, e), sourceValue: t }
      : null;
  }
  function Tn(...e) {
    return e.filter(Boolean).join(", ");
  }
  const Mn = ["calendar.google.com"];
  function Vn(e, t, n) {
    const r = [];
    (t ||
      (r.push("html {"),
      r.push(
        `    background-color: ${Nt({ r: 255, g: 255, b: 255 }, e)} !important;`,
      ),
      r.push("}")),
      _ &&
        1 === e.mode &&
        (r.push("html {"),
        r.push("    color-scheme: dark !important;"),
        r.push("}"),
        r.push("iframe {"),
        r.push("    color-scheme: dark !important;"),
        r.push("}")));
    const o = Tn(
      t ? "" : "html, body",
      n ? "input, textarea, select, button, dialog" : "",
    );
    return (
      o &&
        (r.push(`${o} {`),
        r.push(`    background-color: ${Nt({ r: 255, g: 255, b: 255 }, e)};`),
        r.push("}")),
      r.push(
        `${Tn("html, body", n ? "input, textarea, select, button" : "")} {`,
      ),
      r.push(`    border-color: ${Ht({ r: 76, g: 76, b: 76 }, e)};`),
      r.push(`    color: ${jt({ r: 0, g: 0, b: 0 }, e)};`),
      r.push("}"),
      r.push("a {"),
      r.push(`    color: ${jt({ r: 0, g: 64, b: 255 }, e)};`),
      r.push("}"),
      r.push("table {"),
      r.push(`    border-color: ${Ht({ r: 128, g: 128, b: 128 }, e)};`),
      r.push("}"),
      r.push("mark {"),
      r.push(`    color: ${jt({ r: 0, g: 0, b: 0 }, e)};`),
      r.push("}"),
      r.push("::placeholder {"),
      r.push(`    color: ${jt({ r: 169, g: 169, b: 169 }, e)};`),
      r.push("}"),
      r.push("input:-webkit-autofill,"),
      r.push("textarea:-webkit-autofill,"),
      r.push("select:-webkit-autofill {"),
      r.push(
        `    background-color: ${Nt({ r: 250, g: 255, b: 189 }, e)} !important;`,
      ),
      r.push(`    color: ${jt({ r: 0, g: 0, b: 0 }, e)} !important;`),
      r.push("}"),
      e.scrollbarColor &&
        !Mn.includes(location.hostname) &&
        r.push(
          (function (e) {
            let t, n;
            if ("auto" === e.scrollbarColor)
              ((t = Nt({ r: 241, g: 241, b: 241 }, e)),
                (n = Nt({ r: 176, g: 176, b: 176 }, e)));
            else {
              const r = de(ce(e.scrollbarColor));
              ((t = me(((e) => ({ ...r, l: J(r.l - e, 0, 1) }))(0.4))),
                (n = me(r)));
            }
            return ["* {", `    scrollbar-color: ${n} ${t};`, "}"].join("\n");
          })(e),
        ),
      e.selectionColor &&
        r.push(
          (function (e) {
            const t = [],
              n = Ln(e),
              r = n.backgroundColorSelection,
              o = n.foregroundColorSelection;
            return (
              ["::selection", "::-moz-selection"].forEach((e) => {
                (t.push(`${e} {`),
                  t.push(`    background-color: ${r} !important;`),
                  t.push(`    color: ${o} !important;`),
                  t.push("}"));
              }),
              t.join("\n")
            );
          })(e),
        ),
      w && (r.unshift("@layer {"), r.push("}")),
      r.join("\n")
    );
  }
  function Ln(e) {
    let t, n;
    if ("auto" === e.selectionColor)
      ((t = Nt({ r: 0, g: 96, b: 212 }, { ...e, grayscale: 0 })),
        (n = jt({ r: 255, g: 255, b: 255 }, { ...e, grayscale: 0 })));
    else {
      const r = de(ce(e.selectionColor));
      ((t = e.selectionColor), (n = r.l < 0.5 ? "#FFF" : "#000"));
    }
    return { backgroundColorSelection: t, foregroundColorSelection: n };
  }
  function Dn(e, { strict: t }) {
    return Pn(e, { strict: t });
  }
  function Pn(e, { strict: t }) {
    const n = [];
    return (
      n.push(
        `html, body, ${t ? "body :not(iframe)" : "body > :not(iframe)"} {`,
      ),
      n.push(
        `    background-color: ${Nt({ r: 255, g: 255, b: 255 }, e)} !important;`,
      ),
      n.push(`    border-color: ${Ht({ r: 64, g: 64, b: 64 }, e)} !important;`),
      n.push(`    color: ${jt({ r: 0, g: 0, b: 0 }, e)} !important;`),
      n.push("}"),
      n.push('div[style*="background-color: rgb(135, 135, 135)"] {'),
      n.push("    background-color: #878787 !important;"),
      n.push("}"),
      n.join("\n")
    );
  }
  const On = new Set([
    "inherit",
    "transparent",
    "initial",
    "currentcolor",
    "none",
    "unset",
    "auto",
  ]);
  const Nn = new Map(),
    Fn = new Map();
  let Wn = !1;
  const In = new Map(),
    qn = new Map(),
    jn = new Set();
  let Un = null,
    Bn = null;
  function Hn(e) {
    for (const [t, n] of In)
      (e.querySelector(t) || (e instanceof Element && e.matches(t))) &&
        (In.delete(t), n.forEach((e) => e()));
    Bn ||
      ((Bn = new MutationObserver((e) => {
        e.forEach((e) => {
          (jn.add(e.target),
            Un ||
              (Un = requestAnimationFrame(() => {
                (jn.forEach((e) => {
                  Hn(e);
                }),
                  jn.clear(),
                  (Un = null));
              })));
        });
      })),
      Bn.observe(document.documentElement, {
        attributes: !0,
        attributeFilter: ["class"],
        subtree: !0,
      }));
  }
  function Gn(e, t, n, r) {
    try {
      if (
        (function (e, t) {
          if (!e || 0 === t.length) return !1;
          if (t.some((e) => "*" === e)) return !0;
          const n = e.split(/,\s*/g);
          for (let e = 0; e < t.length; e++) {
            const r = t[e];
            if (r.startsWith("^")) {
              const e = r.slice(1);
              if (n.some((t) => t.startsWith(e))) return !0;
            } else if (r.endsWith("$")) {
              const e = r.slice(0, r.length - 1);
              if (n.some((t) => t.endsWith(e))) return !0;
            } else if (n.some((e) => e === r)) return !0;
          }
          return !1;
        })(t.selectorText, n)
      )
        return e;
      const o = (function (e) {
          const t = [];
          let n = 0,
            r = zt.length;
          for (; -1 !== (n = e.indexOf("gradient", r)); ) {
            let o;
            if (
              ([Yt, Kt, zt].find((t) => {
                if (n - t.length >= 0 && e.substring(n - t.length, n) === t)
                  return "repeating" ===
                    e.slice(n - t.length - 10, n - t.length - 1)
                    ? ((o = `repeating-${t}gradient`), !0)
                    : "-webkit" === e.slice(n - t.length - 8, n - t.length - 1)
                      ? ((o = `-webkit-${t}gradient`), !0)
                      : ((o = `${t}gradient`), !0);
              }),
              !o)
            )
              break;
            const { start: s, end: a } = F(e, n + 8),
              i = e.substring(s + 1, a - 1);
            ((r = a + 1 + Qt),
              t.push({
                typeGradient: o,
                match: i,
                offset: o.length + 2,
                index: n - o.length + 8,
                hasComma: !0,
              }));
          }
          return (t.length && (t[t.length - 1].hasComma = !1), t);
        })(e),
        s = O(at, e);
      if (0 === s.length && 0 === o.length) return e;
      const a = (t) => {
          let n = 0;
          return t.map((t) => {
            const r = e.indexOf(t, n);
            return ((n = r + t.length), { match: t, index: r });
          });
        },
        i = o
          .map((e) => ({ type: "gradient", ...e }))
          .concat(a(s).map((e) => ({ type: "url", offset: 0, ...e })))
          .sort((e, t) => (e.index > t.index ? 1 : -1)),
        c = (e) => {
          const { typeGradient: t, match: n, hasComma: r } = e,
            o = /^(from|color-stop|to)\(([^\(\)]*?,\s*)?(.*?)\)$/,
            s = O(
              /([^\(\),]+(\([^\(\)]*(\([^\(\)]*\)*[^\(\)]*)?\))?([^\(\), ]|( (?!calc)))*),?/g,
              n,
              1,
            ).map((e) => {
              let t = ce((e = e.trim()));
              if (t) return (e) => Gt(t, e);
              const n = e.lastIndexOf(" ");
              if (((t = ce(e.substring(0, n))), t))
                return (r) => `${Gt(t, r)} ${e.substring(n + 1)}`;
              const r = e.match(o);
              return r && ((t = ce(r[3])), t)
                ? (e) => `${r[1]}(${r[2] ? `${r[2]}, ` : ""}${Gt(t, e)})`
                : () => e;
            });
          return (e) =>
            `${t}(${s.map((t) => t(e)).join(", ")})${r ? ", " : ""}`;
        },
        l = (e) => {
          Wn ||
            ((Wn = !0),
            (function (e) {
              try {
                const t = sessionStorage.getItem(Jt);
                if (!t) return;
                JSON.parse(t).forEach((t) => {
                  const n = sessionStorage.getItem(`${Xt}${t}`);
                  if (n) {
                    const r = JSON.parse(n);
                    e.set(t, r);
                  }
                });
              } catch (e) {}
            })(Nn));
          let n = ct(e);
          const o = 0 === n.length,
            { parentStyleSheet: s } = t,
            a = s?.ownerNode,
            i =
              (s &&
                (function (e) {
                  if (!e.ownerNode) return null;
                  if (kt.has(e)) return kt.get(e);
                  let t = e.ownerNode;
                  for (; t; ) {
                    if (t instanceof ShadowRoot || t instanceof Document)
                      return (wt(e, t), t);
                    t = t.parentNode;
                  }
                  return null;
                })(s)) ??
              document,
            c = s && s.href ? lt(s.href) : a?.baseURI || location.origin;
          return (
            (n = G(c, n)),
            async (s) => {
              if (o) return "url('')";
              let a = t.selectorText;
              a &&
                (a.includes("::before") && (a = a.replaceAll("::before", "")),
                a.includes("::after") && (a = a.replaceAll("::after", "")),
                i.querySelector(a) ||
                  (await new Promise((t) => {
                    In.has(a)
                      ? In.get(a).push(t)
                      : (In.set(a, [t]), qn.set(a, e));
                  })));
              let c = null;
              if (Nn.has(n)) c = Nn.get(n);
              else
                try {
                  if (
                    (null == yn &&
                      kn &&
                      (await (async function () {
                        if (kn) {
                          if (wn) return await new Promise((e) => Sn.push(e));
                          ((wn = !0),
                            await new Promise((e) => {
                              (document.addEventListener(
                                "__darkreader__blobURLCheckResponse",
                                (t) => {
                                  ((yn = t.detail.blobURLAllowed),
                                    e(),
                                    Sn.forEach((e) => e()),
                                    Sn.splice(0));
                                },
                                { once: !0 },
                              ),
                                document.dispatchEvent(
                                  new CustomEvent(
                                    "__darkreader__blobURLCheckRequest",
                                  ),
                                ));
                            }));
                        }
                      })()),
                    Fn.has(n))
                  ) {
                    const e = Fn.get(n);
                    if (((c = await new Promise((t) => e.push(t))), !c))
                      return null;
                  } else
                    (Fn.set(n, []),
                      (c = await un(n)),
                      Nn.set(n, c),
                      (function (e, t) {
                        e &&
                          e.startsWith("https://") &&
                          (tn.set(e, t),
                          clearTimeout(en),
                          (en = setTimeout(rn, 1e3)));
                      })(n, c),
                      Fn.get(n).forEach((e) => e(c)),
                      Fn.delete(n));
                  if (r()) return null;
                } catch (e) {
                  Fn.has(n) &&
                    (Fn.get(n).forEach((e) => e(null)), Fn.delete(n));
                }
              if (c) {
                const e = u(c, s);
                if (e) return e;
              }
              if (n.startsWith("data:")) {
                const e = await (async function (e) {
                  if (!yn) return null;
                  const t = N(e);
                  let n = Cn.get(t);
                  if (n) return n;
                  let r = xn(e);
                  if (!r) {
                    const t = await fetch(e);
                    r = await t.blob();
                  }
                  return ((n = URL.createObjectURL(r)), Cn.set(t, n), n);
                })(n);
                if (e) return `url("${e}")`;
              }
              return `url("${n}")`;
            }
          );
        },
        u = (e, t) => {
          const {
            isDark: n,
            isLight: r,
            isTransparent: o,
            isLarge: s,
            width: a,
          } = e;
          let i;
          e.src.startsWith("data:") || e.src;
          if (s && r && !o && 1 === t.mode) i = "none";
          else if (n && o && 1 === t.mode && a > 2) {
            i = `url("${En(e, { ...t, sepia: J(t.sepia + 10, 0, 100) })}")`;
          } else if (r && !o && 1 === t.mode) {
            i = `url("${En(e, t)}")`;
          } else if (0 === t.mode && r) {
            i = `url("${En(e, { ...t, brightness: J(t.brightness - 10, 5, 200), sepia: J(t.sepia + 10, 0, 100) })}")`;
          } else i = null;
          return i;
        },
        d = [];
      let h = 0,
        f = !1;
      return (
        i.forEach(
          (
            {
              type: t,
              match: n,
              index: r,
              typeGradient: o,
              hasComma: s,
              offset: a,
            },
            u,
          ) => {
            const m = r,
              p = h,
              g = m + n.length + a;
            ((h = g),
              p !== m &&
                (f
                  ? d.push(() => {
                      let t = e.substring(p, m);
                      return ("," === t[0] && (t = t.substring(1)), t);
                    })
                  : d.push(() => e.substring(p, m))),
              (f = s || !1),
              "url" === t
                ? d.push(l(n))
                : "gradient" === t &&
                  d.push(
                    c({
                      match: n,
                      index: r,
                      typeGradient: o,
                      hasComma: s || !1,
                      offset: a,
                    }),
                  ),
              u === i.length - 1 && d.push(() => e.substring(g)));
          },
        ),
        (e) => {
          const t = d.filter(Boolean).map((t) => t(e));
          if (t.some((e) => e instanceof Promise))
            return Promise.all(t).then((e) => e.filter(Boolean).join(""));
          const n = t.join("");
          return n.endsWith(", initial") ? n.slice(0, -9) : n;
        }
      );
    } catch (e) {
      return null;
    }
  }
  function zn(e) {
    try {
      let t = 0;
      const n = O(
        /(^|\s)(?!calc)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,
        e,
        2,
      );
      let r = 0;
      const o = n.map((o, s) => {
        const a = t,
          i = e.indexOf(o, t),
          c = i + o.length;
        t = c;
        const l = ce(o);
        return l
          ? (t) =>
              `${e.substring(a, i)}${(function (e, t) {
                return Nt(e, t);
              })(l, t)}${s === n.length - 1 ? e.substring(c) : ""}`
          : (r++, () => e.substring(a, c));
      });
      return (e) => {
        const t = o.map((t) => t(e)).join("");
        return {
          matchesLength: n.length,
          unparsableMatchesLength: r,
          result: t,
        };
      };
    } catch (e) {
      return null;
    }
  }
  function Qn() {
    ($t.clear(),
      Nn.clear(),
      Rn(),
      Fn.clear(),
      In.clear(),
      Bn?.disconnect(),
      (Bn = null));
  }
  const Kn = new (class {
    constructor() {
      ((this.varTypes = new Map()),
        (this.rulesQueue = new Set()),
        (this.inlineStyleQueue = []),
        (this.definedVars = new Set()),
        (this.varRefs = new Map()),
        (this.unknownColorVars = new Set()),
        (this.unknownBgVars = new Set()),
        (this.undefinedVars = new Set()),
        (this.initialVarTypes = new Map()),
        (this.changedTypeVars = new Set()),
        (this.typeChangeSubscriptions = new Map()),
        (this.unstableVarValues = new Map()));
    }
    clear() {
      (this.varTypes.clear(),
        this.rulesQueue.clear(),
        this.inlineStyleQueue.splice(0),
        this.definedVars.clear(),
        this.varRefs.clear(),
        this.unknownColorVars.clear(),
        this.unknownBgVars.clear(),
        this.undefinedVars.clear(),
        this.initialVarTypes.clear(),
        this.changedTypeVars.clear(),
        this.typeChangeSubscriptions.clear(),
        this.unstableVarValues.clear());
    }
    isVarType(e, t) {
      return this.varTypes.has(e) && (this.varTypes.get(e) & t) > 0;
    }
    addRulesForMatching(e) {
      this.rulesQueue.add(e);
    }
    addInlineStyleForMatching(e) {
      this.inlineStyleQueue.push(e);
    }
    matchVariablesAndDependents() {
      (0 === this.rulesQueue.size && 0 === this.inlineStyleQueue.length) ||
        (this.changedTypeVars.clear(),
        (this.initialVarTypes = new Map(this.varTypes)),
        this.collectRootVariables(),
        this.collectVariablesAndVarDep(),
        this.collectRootVarDependents(),
        this.varRefs.forEach((e, t) => {
          e.forEach((e) => {
            this.varTypes.has(t) &&
              this.resolveVariableType(e, this.varTypes.get(t));
          });
        }),
        this.unknownColorVars.forEach((e) => {
          this.unknownBgVars.has(e)
            ? (this.unknownColorVars.delete(e),
              this.unknownBgVars.delete(e),
              this.resolveVariableType(e, 1))
            : this.isVarType(e, 7)
              ? this.unknownColorVars.delete(e)
              : this.undefinedVars.add(e);
        }),
        this.unknownBgVars.forEach((e) => {
          null !=
          this.findVarRef(
            e,
            (e) => this.unknownColorVars.has(e) || this.isVarType(e, 7),
          )
            ? this.iterateVarRefs(e, (e) => {
                this.resolveVariableType(e, 1);
              })
            : this.isVarType(e, 9)
              ? this.unknownBgVars.delete(e)
              : this.undefinedVars.add(e);
        }),
        this.changedTypeVars.forEach((e) => {
          this.typeChangeSubscriptions.has(e) &&
            this.typeChangeSubscriptions.get(e).forEach((e) => {
              e();
            });
        }),
        this.changedTypeVars.clear());
    }
    getModifierForVariable(e) {
      return (t) => {
        const {
            varName: n,
            sourceValue: r,
            rule: o,
            ignoredImgSelectors: s,
            isCancelled: a,
          } = e,
          i = () => {
            const e = [],
              i = (o, s, a) => {
                if (!this.isVarType(n, o)) return;
                const i = s(n);
                let c;
                if (sr(r))
                  if (ar(r)) {
                    let e = pr(r, this.unstableVarValues);
                    (e || (e = 1 === o ? "#ffffff" : "#000000"), (c = a(e, t)));
                  } else
                    c = Zn(
                      r,
                      (e) => s(e),
                      (e) => a(e, t),
                    );
                else c = a(r, t);
                e.push({ property: i, value: c });
              };
            if (
              (i(1, er, hr), i(2, tr, fr), i(4, nr, mr), this.isVarType(n, 8))
            ) {
              const i = rr(n);
              let c = r;
              sr(r) &&
                (c = Zn(
                  r,
                  (e) => er(e),
                  (e) => hr(e, t),
                ));
              const l = Gn(c, o, s, a);
              ((c = "function" == typeof l ? l(t) : l),
                e.push({ property: i, value: c }));
            }
            return e;
          },
          c = new Set();
        return {
          declarations: i(),
          onTypeChange: {
            addListener: (e) => {
              const t = () => {
                const t = i();
                e(t);
              };
              (c.add(t), this.subscribeForVarTypeChange(n, t));
            },
            removeListeners: () => {
              c.forEach((e) => {
                this.unsubscribeFromVariableTypeChanges(n, e);
              });
            },
          },
        };
      };
    }
    getModifierForVarDependant(e, t) {
      const n = t.match(/^\s*(rgb|hsl)a?\(/),
        r = t.match(/^rgba?\(var\(--[\-_A-Za-z0-9]+\)(\s*,?\/?\s*0?\.\d+)?\)$/);
      if (n && !r) {
        const n = e.startsWith("background"),
          r = cr(e);
        return (e) => {
          let o = pr(t, this.unstableVarValues);
          o || (o = n ? "#ffffff" : "#000000");
          return (n ? hr : r ? fr : mr)(o, e);
        };
      }
      return "background-color" === e || (r && "background" === e)
        ? (e) => {
            const r = hr(n ? "255, 255, 255" : "#ffffff", e);
            return Zn(
              t,
              (e) => er(e),
              (t) => hr(t, e),
              r,
            );
          }
        : cr(e)
          ? (e) => {
              const r = fr(n ? "0, 0, 0" : "#000000", e);
              return Zn(
                t,
                (e) => tr(e),
                (t) => fr(t, e),
                r,
              );
            }
          : "background" === e || "background-image" === e || "box-shadow" === e
            ? (n) => {
                const r = new Set(),
                  o = () => {
                    const o = Zn(
                      t,
                      (e) =>
                        this.isVarType(e, 1)
                          ? er(e)
                          : this.isVarType(e, 8)
                            ? rr(e)
                            : (r.add(e), e),
                      (e) => hr(e, n),
                    );
                    if ("box-shadow" === e) {
                      const e = zn(o)(n);
                      if (e.unparsableMatchesLength !== e.matchesLength)
                        return e.result;
                    }
                    return o;
                  },
                  s = o();
                if (r.size > 0) {
                  return s.match(
                    /^var\(.*?, ((var\(--darkreader-bg--.*\))|(#[0-9A-Fa-f]+)|([a-z]+)|(rgba?\(.+\))|(hsla?\(.+\)))\)$/,
                  )
                    ? s
                    : new Promise((e) => {
                        for (const t of r.values()) {
                          const n = () => {
                            this.unsubscribeFromVariableTypeChanges(t, n);
                            const r = o();
                            e(r);
                          };
                          this.subscribeForVarTypeChange(t, n);
                        }
                      });
                }
                return s;
              }
            : e.startsWith("border") || e.startsWith("outline")
              ? (e) =>
                  Zn(
                    t,
                    (e) => nr(e),
                    (t) => mr(t, e),
                  )
              : null;
    }
    subscribeForVarTypeChange(e, t) {
      this.typeChangeSubscriptions.has(e) ||
        this.typeChangeSubscriptions.set(e, new Set());
      const n = this.typeChangeSubscriptions.get(e);
      n.has(t) || n.add(t);
    }
    unsubscribeFromVariableTypeChanges(e, t) {
      this.typeChangeSubscriptions.has(e) &&
        this.typeChangeSubscriptions.get(e).delete(t);
    }
    collectVariablesAndVarDep() {
      (this.rulesQueue.forEach((e) => {
        tt(e, (e) => {
          e.style && this.collectVarsFromCSSDeclarations(e.style);
        });
      }),
        this.inlineStyleQueue.forEach((e) => {
          this.collectVarsFromCSSDeclarations(e);
        }),
        this.rulesQueue.clear(),
        this.inlineStyleQueue.splice(0));
    }
    collectVarsFromCSSDeclarations(e) {
      ot(e, (e, t) => {
        (or(e) && this.inspectVariable(e, t),
          sr(t) && this.inspectVarDependant(e, t));
      });
    }
    shouldProcessRootVariables() {
      return (
        this.rulesQueue.size > 0 &&
        document.documentElement.getAttribute("style")?.includes("--")
      );
    }
    collectRootVariables() {
      this.shouldProcessRootVariables() &&
        ot(document.documentElement.style, (e, t) => {
          or(e) && this.inspectVariable(e, t);
        });
    }
    inspectVariable(e, t) {
      if (
        (this.unstableVarValues.set(e, t),
        sr(t) &&
          ar(t) &&
          (this.unknownColorVars.add(e), this.definedVars.add(e)),
        this.definedVars.has(e))
      )
        return;
      this.definedVars.add(e);
      t.match(lr) || t.match(ur) || ce(t)
        ? this.unknownColorVars.add(e)
        : (t.includes("url(") ||
            t.includes("linear-gradient(") ||
            t.includes("radial-gradient(")) &&
          this.resolveVariableType(e, 8);
    }
    resolveVariableType(e, t) {
      const n = this.initialVarTypes.get(e) || 0,
        r = (this.varTypes.get(e) || 0) | t;
      (this.varTypes.set(e, r),
        (r !== n || this.undefinedVars.has(e)) &&
          (this.changedTypeVars.add(e), this.undefinedVars.delete(e)),
        this.unknownColorVars.delete(e),
        this.unknownBgVars.delete(e));
    }
    collectRootVarDependents() {
      this.shouldProcessRootVariables() &&
        ot(document.documentElement.style, (e, t) => {
          sr(t) && this.inspectVarDependant(e, t);
        });
    }
    inspectVarDependant(e, t) {
      or(e)
        ? this.iterateVarDeps(t, (t) => {
            (this.varRefs.has(e) || this.varRefs.set(e, new Set()),
              this.varRefs.get(e).add(t));
          })
        : "background-color" === e || "box-shadow" === e
          ? this.iterateVarDeps(t, (e) => this.resolveVariableType(e, 1))
          : cr(e)
            ? this.iterateVarDeps(t, (e) => this.resolveVariableType(e, 2))
            : e.startsWith("border") || e.startsWith("outline")
              ? this.iterateVarDeps(t, (e) => this.resolveVariableType(e, 4))
              : ("background" !== e && "background-image" !== e) ||
                this.iterateVarDeps(t, (e) => {
                  if (this.isVarType(e, 9)) return;
                  const t =
                    null !=
                    this.findVarRef(
                      e,
                      (e) =>
                        this.unknownColorVars.has(e) || this.isVarType(e, 7),
                    );
                  this.iterateVarRefs(e, (e) => {
                    t
                      ? this.resolveVariableType(e, 1)
                      : this.unknownBgVars.add(e);
                  });
                });
    }
    iterateVarDeps(e, t) {
      const n = new Set();
      (!(function (e, t) {
        Zn(e, (e) => (t(e), e));
      })(e, (e) => n.add(e)),
        n.forEach((e) => t(e)));
    }
    findVarRef(e, t, n = new Set()) {
      if (n.has(e)) return null;
      n.add(e);
      if (t(e)) return e;
      const r = this.varRefs.get(e);
      if (!r || 0 === r.size) return null;
      for (const e of r) {
        const r = this.findVarRef(e, t, n);
        if (r) return r;
      }
      return null;
    }
    iterateVarRefs(e, t) {
      this.findVarRef(e, (e) => (t(e), !1));
    }
    setOnRootVariableChange(e) {
      this.onRootVariableDefined = e;
    }
    putRootVars(e, t) {
      const n = e.sheet;
      n.cssRules.length > 0 && n.deleteRule(0);
      const r = new Map();
      ot(document.documentElement.style, (e, n) => {
        or(e) &&
          (this.isVarType(e, 1) && r.set(er(e), hr(n, t)),
          this.isVarType(e, 2) && r.set(tr(e), fr(n, t)),
          this.isVarType(e, 4) && r.set(nr(e), mr(n, t)),
          this.subscribeForVarTypeChange(e, this.onRootVariableDefined));
      });
      const o = [];
      o.push(":root {");
      for (const [e, t] of r) o.push(`    ${e}: ${t};`);
      o.push("}");
      const s = o.join("\n");
      n.insertRule(s);
    }
  })();
  function Yn(e, t = 0) {
    const n = e.indexOf("var(", t);
    if (n >= 0) {
      const t = F(e, n + 3);
      if (t) return { start: n, end: t.end };
    }
    return null;
  }
  function Jn(e, t) {
    const n = (function (e) {
        const t = [];
        let n,
          r = 0;
        for (; (n = Yn(e, r)); ) {
          const { start: o, end: s } = n;
          (t.push({ start: o, end: s, value: e.substring(o, s) }),
            (r = n.end + 1));
        }
        return t;
      })(e),
      r = n.length;
    if (0 === r) return e;
    const o = e.length,
      s = n.map((e) => t(e.value, n.length)),
      a = [];
    a.push(e.substring(0, n[0].start));
    for (let t = 0; t < r; t++) {
      a.push(s[t]);
      const i = n[t].end,
        c = t < r - 1 ? n[t + 1].start : o;
      a.push(e.substring(i, c));
    }
    return a.join("");
  }
  function Xn(e) {
    const t = e.indexOf(",");
    let n, r;
    return (
      t >= 0
        ? ((n = e.substring(4, t).trim()),
          (r = e.substring(t + 1, e.length - 1).trim()))
        : ((n = e.substring(4, e.length - 1).trim()), (r = "")),
      { name: n, fallback: r }
    );
  }
  function Zn(e, t, n, r) {
    return Jn(e, (e) => {
      const { name: o, fallback: s } = Xn(e),
        a = t(o);
      if (!s) return r ? `var(${a}, ${r})` : `var(${a})`;
      let i;
      return ((i = sr(s) ? Zn(s, t, n) : n ? n(s) : s), `var(${a}, ${i})`);
    });
  }
  function er(e) {
    return `--darkreader-bg${e}`;
  }
  function tr(e) {
    return `--darkreader-text${e}`;
  }
  function nr(e) {
    return `--darkreader-border${e}`;
  }
  function rr(e) {
    return `--darkreader-bgimg${e}`;
  }
  function or(e) {
    return e.startsWith("--");
  }
  function sr(e) {
    return e.includes("var(");
  }
  function ar(e) {
    return (
      e.match(/^\s*(rgb|hsl)a?\(/) ||
      e.match(/^(((\d{1,3})|(var\([\-_A-Za-z0-9]+\))),?\s*?){3}$/)
    );
  }
  const ir = [
    "color",
    "caret-color",
    "-webkit-text-fill-color",
    "fill",
    "stroke",
  ];
  function cr(e) {
    return ir.includes(e);
  }
  const lr = /^(\d{1,3})\s+(\d{1,3})\s+(\d{1,3})$/,
    ur = /^(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})$/;
  function dr(e, t, n) {
    const { isRaw: r, color: o } = (function (e) {
        const t = e.match(lr) ?? e.match(ur);
        if (t) return { isRaw: !0, color: `rgb(${t[1]}, ${t[2]}, ${t[3]})` };
        return { isRaw: !1, color: e };
      })(e),
      s = ce(o);
    if (s) {
      const e = n(s, t, !r);
      if (r) {
        const t = ce(e);
        return t ? `${t.r}, ${t.g}, ${t.b}` : e;
      }
      return e;
    }
    return o;
  }
  function hr(e, t) {
    return dr(e, t, Nt);
  }
  function fr(e, t) {
    return dr(e, t, jt);
  }
  function mr(e, t) {
    return dr(e, t, Ht);
  }
  function pr(e, t, n = new Set()) {
    let r = !1;
    const o = Jn(e, (e, o) => {
      const { name: s, fallback: a } = Xn(e),
        i = o > 1 ? new Set(n) : n;
      if (i.has(s)) return ((r = !0), null);
      i.add(s);
      const c = t.get(s) || a;
      let l = null;
      return (c && (l = sr(c) ? pr(c, t, i) : c), l || ((r = !0), null));
    });
    return r ? null : o;
  }
  const gr = (function () {
    const e = [];
    let t = null;
    function n() {
      let n;
      for (; (n = e.shift()); ) n();
      t = null;
    }
    return {
      add: function (r) {
        (e.push(r), t || (t = requestAnimationFrame(n)));
      },
      cancel: function () {
        (e.splice(0), cancelAnimationFrame(t), (t = null));
      },
    };
  })();
  function br() {
    let e = 0;
    const t = new Set(),
      n = new Map(),
      r = new Set();
    let o = null,
      s = !1,
      a = !1;
    return {
      modifySheet: function (i) {
        const c = i.sourceCSSRules,
          {
            theme: l,
            ignoreImageAnalysis: u,
            force: d,
            prepareSheet: h,
            isAsyncCancelled: m,
          } = i;
        let p = 0 === n.size;
        const g = new Set(n.keys()),
          b = (function (e) {
            let t = "";
            return (
              Tt.forEach((n) => {
                t += `${n}:${e[n]};`;
              }),
              t
            );
          })(l),
          y = b !== o;
        s && (a = !0);
        const k = [];
        if (
          (tt(
            c,
            (e) => {
              const r = (function (e) {
                let t = e.cssText;
                return (
                  bt(e.parentRule) &&
                    (t = `${e.parentRule.media.mediaText} { ${t} }`),
                  N(t)
                );
              })(e);
              let o = !1;
              if ((g.delete(r), t.has(r) || (t.add(r), (o = !0)), !o))
                return void k.push(n.get(r));
              if (((p = !0), "revert" === e.style.all)) return;
              const s = [];
              e.style &&
                ot(e.style, (t, n) => {
                  const r = An(t, n, e, Kn, u, m);
                  r && s.push(r);
                });
              let a = null;
              if (s.length > 0) {
                const t = e.parentRule;
                ((a = {
                  selector: e.selectorText,
                  declarations: s,
                  parentRule: t,
                }),
                  k.push(a));
              }
              n.set(r, a);
            },
            () => {
              s = !0;
            },
          ),
          g.forEach((e) => {
            (t.delete(e), n.delete(e));
          }),
          (o = b),
          !d && !p && !y)
        )
          return;
        function w(e, t, n) {
          const { selector: r, declarations: o } = n;
          let s = r;
          const a =
              f &&
              r.startsWith(":is(") &&
              (r.includes(":is()") ||
                r.includes(":where()") ||
                (r.includes(":where(") && r.includes(":-moz"))),
            i = r.includes("::view-transition-");
          (a || i) && (s = ".darkreader-unsupported-selector");
          let c = `${s} {`;
          for (const e of o) {
            const { property: t, value: n, important: r } = e;
            n && (c += ` ${t}: ${n}${r ? " !important" : ""};`);
          }
          ((c += " }"), e.insertRule(c, t));
        }
        e++;
        const S = new Map(),
          _ = new Map();
        let E = 0,
          v = 0;
        const C = { rule: null, rules: [], isGroup: !0 },
          x = new WeakMap();
        function R(e) {
          if (null == e) return C;
          if (x.has(e)) return x.get(e);
          const t = { rule: e, rules: [], isGroup: !0 };
          x.set(e, t);
          return (R(e.parentRule).rules.push(t), t);
        }
        (r.forEach((e) => e()),
          r.clear(),
          k
            .filter((e) => e)
            .forEach(({ selector: t, declarations: n, parentRule: o }) => {
              const s = R(o),
                a = { selector: t, declarations: [], isGroup: !1 },
                i = a.declarations;
              function c(t, n, r, o) {
                const s = ++E,
                  a = {
                    property: t,
                    value: null,
                    important: r,
                    asyncKey: s,
                    sourceValue: o,
                  };
                i.push(a);
                const c = e;
                n.then((t) => {
                  t &&
                    !m() &&
                    c === e &&
                    ((a.value = t),
                    gr.add(() => {
                      m() ||
                        c !== e ||
                        (function (e) {
                          const { rule: t, target: n, index: r } = S.get(e);
                          (n.deleteRule(r), w(n, r, t), S.delete(e));
                        })(s);
                    }));
                });
              }
              function u(t, n, o, s) {
                const { declarations: a, onTypeChange: l } = n,
                  u = ++v,
                  d = e,
                  h = i.length;
                let f = [];
                if (0 === a.length) {
                  const e = {
                    property: t,
                    value: s,
                    important: o,
                    sourceValue: s,
                    varKey: u,
                  };
                  (i.push(e), (f = [e]));
                }
                (a.forEach((e) => {
                  if (e.value instanceof Promise) c(e.property, e.value, o, s);
                  else {
                    const t = {
                      property: e.property,
                      value: e.value,
                      important: o,
                      sourceValue: s,
                      varKey: u,
                    };
                    (i.push(t), f.push(t));
                  }
                }),
                  l.addListener((t) => {
                    if (m() || d !== e) return;
                    const n = t.map((e) => ({
                        property: e.property,
                        value: e.value,
                        important: o,
                        sourceValue: s,
                        varKey: u,
                      })),
                      r = i.indexOf(f[0], h);
                    (i.splice(r, f.length, ...n),
                      (f = n),
                      (function (e) {
                        const { rule: t, target: n, index: r } = _.get(e);
                        (n.deleteRule(r), w(n, r, t));
                      })(u));
                  }),
                  r.add(() => l.removeListeners()));
              }
              (s.rules.push(a),
                n.forEach(
                  ({ property: e, value: t, important: n, sourceValue: r }) => {
                    if ("function" == typeof t) {
                      const o = t(l);
                      o instanceof Promise
                        ? c(e, o, n, r)
                        : e.startsWith("--")
                          ? u(e, o, n, r)
                          : i.push({
                              property: e,
                              value: o,
                              important: n,
                              sourceValue: r,
                            });
                    } else
                      i.push({
                        property: e,
                        value: t,
                        important: n,
                        sourceValue: r,
                      });
                  },
                ));
            }));
        const $ = h();
        !(function e(t, n, r) {
          t.rules.forEach((t) => {
            if (t.isGroup) {
              const o = (function (e, t) {
                const { rule: n } = e;
                if (gt(n)) {
                  const { selectorText: e } = n,
                    r = t.cssRules.length;
                  return (t.insertRule(`${e} {}`, r), t.cssRules[r]);
                }
                if (bt(n)) {
                  const { media: e } = n,
                    r = t.cssRules.length;
                  return (
                    t.insertRule(`@media ${e.mediaText} {}`, r),
                    t.cssRules[r]
                  );
                }
                if (yt(n)) {
                  const { name: e } = n,
                    r = t.cssRules.length;
                  return (t.insertRule(`@layer ${e} {}`, r), t.cssRules[r]);
                }
                return t;
              })(t, n);
              e(t, o, r);
            } else r(t, n);
          });
        })(C, $, (e, t) => {
          const n = t.cssRules.length;
          (e.declarations.forEach(({ asyncKey: r, varKey: o }) => {
            (null != r && S.set(r, { rule: e, target: t, index: n }),
              null != o && _.set(o, { rule: e, target: t, index: n }));
          }),
            w(t, n, e));
        });
      },
      shouldRebuildStyle: function () {
        return s && !a;
      },
    };
  }
  let yr = !1;
  document.addEventListener(
    "__darkreader__inlineScriptsAllowed",
    () => (yr = !0),
    { once: !0 },
  );
  const kr = new WeakSet(),
    wr = new WeakMap();
  function Sr(e) {
    let t = !1;
    function n(t, n) {
      const r = [...e.adoptedStyleSheets],
        o = r.indexOf(t),
        s = r.indexOf(n);
      (s >= 0 && r.splice(s, 1),
        r.splice(o + 1, 0, n),
        (e.adoptedStyleSheets = r));
    }
    function r() {
      const t = [...e.adoptedStyleSheets];
      for (let e = t.length - 1; e >= 0; e--) {
        const n = t[e];
        kr.has(n) && t.splice(e, 1);
      }
      (e.adoptedStyleSheets.length !== t.length && (e.adoptedStyleSheets = t),
        (i = new WeakSet()),
        (c = new WeakSet()));
    }
    const o = [];
    let s = 0;
    function a() {
      let t = 0;
      var n;
      if (
        ((n = (e) => {
          t += e.cssRules.length;
        }),
        e.adoptedStyleSheets.forEach((t) => {
          (kr.has(t) || n(t), wt(t, e));
        }),
        1 === t)
      ) {
        const n = e.adoptedStyleSheets[0].cssRules[0];
        return n instanceof CSSStyleRule ? n.style.length : t;
      }
      return t;
    }
    let i = new WeakSet(),
      c = new WeakSet();
    let l = !1;
    function u(t) {
      l ||
        ((l = !0),
        queueMicrotask(() => {
          l = !1;
          const n = e.adoptedStyleSheets.filter((e) => !kr.has(e));
          (n.forEach((e) => wr.delete(e)), t(n));
        }));
    }
    let d = null;
    function h(e) {
      d = requestAnimationFrame(() => {
        yr || (a() !== s && u(e), h(e));
      });
    }
    function f(t, n) {
      (e.addEventListener(t, n), o.push(() => e.removeEventListener(t, n)));
    }
    return {
      render: function (o, l) {
        r();
        for (let r = e.adoptedStyleSheets.length - 1; r >= 0; r--) {
          const u = e.adoptedStyleSheets[r];
          if (kr.has(u)) continue;
          i.add(u);
          const d = wr.get(u);
          if (d) {
            ((s = a()), n(u, d));
            continue;
          }
          const h = u.cssRules,
            f = new CSSStyleSheet();
          (wr.set(u, f), tt(h, (e) => c.add(e.style)));
          const m = () => {
            for (let e = f.cssRules.length - 1; e >= 0; e--) f.deleteRule(e);
            return (
              f.insertRule("#__darkreader__adoptedOverride {}"),
              n(u, f),
              kr.add(f),
              f
            );
          };
          br().modifySheet({
            prepareSheet: m,
            sourceCSSRules: h,
            theme: o,
            ignoreImageAnalysis: l,
            force: !1,
            isAsyncCancelled: () => t,
          });
        }
        s = a();
      },
      destroy: function () {
        (o.forEach((e) => e()),
          o.splice(0),
          (t = !0),
          r(),
          d && (cancelAnimationFrame(d), (d = null)));
      },
      watch: function (e) {
        const t = () => {
          ((yr = !0), u(e));
        };
        (f("__darkreader__adoptedStyleSheetsChange", t),
          f("__darkreader__adoptedStyleSheetChange", t),
          f("__darkreader__adoptedStyleDeclarationChange", t),
          yr || h(e));
      },
    };
  }
  class _r {
    constructor() {
      ((this.cssRules = []), (this.commands = []));
    }
    insertRule(e, t = 0) {
      return (
        this.commands.push({ type: "insert", index: t, cssText: e }),
        this.cssRules.splice(t, 0, new _r()),
        t
      );
    }
    deleteRule(e) {
      (this.commands.push({ type: "delete", index: e }),
        this.cssRules.splice(e, 1));
    }
    replaceSync(e) {
      if (
        (this.commands.splice(0),
        this.commands.push({ type: "replace", cssText: e }),
        "" !== e)
      )
        throw new Error(
          "StyleSheetCommandBuilder.replaceSync() is not fully supported",
        );
      this.cssRules.splice(0);
    }
    getDeepCSSCommands() {
      const e = [];
      return (
        this.commands.forEach((t) => {
          e.push({
            type: t.type,
            cssText: "delete" !== t.type ? t.cssText : "",
            path: "replace" === t.type ? [] : [t.index],
          });
        }),
        this.cssRules.forEach((e, t) => {
          e.getDeepCSSCommands().forEach((e) => e.path.unshift(t));
        }),
        e
      );
    }
    clearDeepCSSCommands() {
      (this.commands.splice(0),
        this.cssRules.forEach((e) => e.clearDeepCSSCommands()));
    }
  }
  const Er = ["www.diffusioneshop.com", "zhale.me"].includes(location.hostname)
    ? "away"
    : "next";
  function vr() {
    return Er;
  }
  function Cr(e) {
    let t = document.body.querySelector(".darkreader-style-container");
    (t ||
      ((t = document.createElement("div")),
      t.classList.add("darkreader"),
      t.classList.add("darkreader-style-container"),
      (t.style.display = "none"),
      document.body.append(t)),
      t.append(e));
  }
  const xr = {
      "background-color": {
        customProp: "--darkreader-inline-bgcolor",
        cssProp: "background-color",
        dataAttr: "data-darkreader-inline-bgcolor",
      },
      "background-image": {
        customProp: "--darkreader-inline-bgimage",
        cssProp: "background-image",
        dataAttr: "data-darkreader-inline-bgimage",
      },
      "border-color": {
        customProp: "--darkreader-inline-border",
        cssProp: "border-color",
        dataAttr: "data-darkreader-inline-border",
      },
      "border-bottom-color": {
        customProp: "--darkreader-inline-border-bottom",
        cssProp: "border-bottom-color",
        dataAttr: "data-darkreader-inline-border-bottom",
      },
      "border-left-color": {
        customProp: "--darkreader-inline-border-left",
        cssProp: "border-left-color",
        dataAttr: "data-darkreader-inline-border-left",
      },
      "border-right-color": {
        customProp: "--darkreader-inline-border-right",
        cssProp: "border-right-color",
        dataAttr: "data-darkreader-inline-border-right",
      },
      "border-top-color": {
        customProp: "--darkreader-inline-border-top",
        cssProp: "border-top-color",
        dataAttr: "data-darkreader-inline-border-top",
      },
      "box-shadow": {
        customProp: "--darkreader-inline-boxshadow",
        cssProp: "box-shadow",
        dataAttr: "data-darkreader-inline-boxshadow",
      },
      color: {
        customProp: "--darkreader-inline-color",
        cssProp: "color",
        dataAttr: "data-darkreader-inline-color",
      },
      fill: {
        customProp: "--darkreader-inline-fill",
        cssProp: "fill",
        dataAttr: "data-darkreader-inline-fill",
      },
      stroke: {
        customProp: "--darkreader-inline-stroke",
        cssProp: "stroke",
        dataAttr: "data-darkreader-inline-stroke",
      },
      "outline-color": {
        customProp: "--darkreader-inline-outline",
        cssProp: "outline-color",
        dataAttr: "data-darkreader-inline-outline",
      },
      "stop-color": {
        customProp: "--darkreader-inline-stopcolor",
        cssProp: "stop-color",
        dataAttr: "data-darkreader-inline-stopcolor",
      },
    },
    Rr = {
      background: {
        customProp: "--darkreader-inline-bg",
        cssProp: "background",
        dataAttr: "data-darkreader-inline-bg",
      },
      border: {
        customProp: "--darkreader-inline-border-short",
        cssProp: "border",
        dataAttr: "data-darkreader-inline-border-short",
      },
      "border-bottom": {
        customProp: "--darkreader-inline-border-bottom-short",
        cssProp: "border-bottom",
        dataAttr: "data-darkreader-inline-border-bottom-short",
      },
      "border-left": {
        customProp: "--darkreader-inline-border-left-short",
        cssProp: "border-left",
        dataAttr: "data-darkreader-inline-border-left-short",
      },
      "border-right": {
        customProp: "--darkreader-inline-border-right-short",
        cssProp: "border-right",
        dataAttr: "data-darkreader-inline-border-right-short",
      },
      "border-top": {
        customProp: "--darkreader-inline-border-top-short",
        cssProp: "border-top",
        dataAttr: "data-darkreader-inline-border-top-short",
      },
    },
    $r = Object.values(xr),
    Ar = {};
  $r.forEach(({ cssProp: e, customProp: t }) => (Ar[t] = e));
  const Tr = [
      "style",
      "fill",
      "stop-color",
      "stroke",
      "bgcolor",
      "color",
      "background",
    ],
    Mr = Tr.map((e) => `[${e}]`).join(", ");
  function Vr() {
    return $r
      .concat(Object.values(Rr))
      .map(({ dataAttr: e, customProp: t, cssProp: n }) =>
        [`[${e}] {`, `  ${n}: var(${t}) !important;`, "}"].join("\n"),
      )
      .concat([
        "[data-darkreader-inline-invert] {",
        "    filter: invert(100%) hue-rotate(180deg);",
        "}",
      ])
      .join("\n");
  }
  const Lr = new Map(),
    Dr = new Map();
  function Pr(e, t, n) {
    Lr.has(e) && (Lr.get(e).disconnect(), Dr.get(e).disconnect());
    const r = new WeakSet();
    function o(e) {
      ((function (e) {
        const t = [];
        return (
          e instanceof Element && e.matches(Mr) && t.push(e),
          (e instanceof Element ||
            (y && e instanceof ShadowRoot) ||
            e instanceof Document) &&
            K(t, e.querySelectorAll(Mr)),
          t
        );
      })(e).forEach((e) => {
        r.has(e) || (r.add(e), t(e));
      }),
        Be(e, (o) => {
          r.has(e) || (r.add(e), n(o.shadowRoot), Pr(o.shadowRoot, t, n));
        }),
        Kn.matchVariablesAndDependents());
    }
    const s = et(e, {
      onMinorMutations: (e, { additions: t }) => {
        t.forEach((e) => o(e));
      },
      onHugeMutations: () => {
        o(e);
      },
    });
    Lr.set(e, s);
    let a = 0,
      i = null;
    const c = qe({ seconds: 10 }),
      l = qe({ seconds: 2 });
    let u = [],
      d = null;
    const h = Ve((e) => {
        const n = new Set();
        (e.forEach((e) => {
          const r = e.target;
          n.has(r) || (Tr.includes(e.attributeName) && (n.add(r), t(r)));
        }),
          Kn.matchVariablesAndDependents());
      }),
      f = new MutationObserver((e) => {
        if (d) return void u.push(...e);
        a++;
        const t = Date.now();
        if (null == i) i = t;
        else if (a >= 50) {
          if (t - i < c)
            return (
              (d = setTimeout(() => {
                ((i = null), (a = 0), (d = null));
                const e = u;
                ((u = []), h(e));
              }, l)),
              void u.push(...e)
            );
          ((i = t), (a = 1));
        }
        h(e);
      });
    (f.observe(e, {
      attributes: !0,
      attributeFilter: Tr.concat($r.map(({ dataAttr: e }) => e)),
      subtree: !0,
    }),
      Dr.set(e, f));
  }
  const Or = new WeakMap(),
    Nr = new WeakSet(),
    Fr = new WeakMap(),
    Wr = ["brightness", "contrast", "grayscale", "sepia", "mode"];
  function Ir(e, t) {
    return Tr.map((t) => `${t}="${e.getAttribute(t)}"`)
      .concat(Wr.map((e) => `${e}="${t[e]}"`))
      .join(" ");
  }
  function qr(e, t, n, r) {
    if (Ir(e, t) === Or.get(e)) return;
    const o = new Set(Object.keys(xr));
    function s(n, s, a) {
      const i = An(s, a, { style: e.style }, Kn, r, null);
      if (!i) return;
      function c(t) {
        const { customProp: r, dataAttr: s } = xr[n] ?? Rr[n];
        (e.style.setProperty(r, t),
          e.hasAttribute(s) || e.setAttribute(s, ""),
          o.delete(n));
      }
      const l = "function" == typeof i.value ? i.value(t) : i.value;
      var u;
      "string" == typeof l
        ? c(l)
        : l instanceof Promise
          ? ((u = a),
            l.then((r) => {
              (r &&
                "background" === n &&
                r.startsWith("var(--darkreader-bg--") &&
                c(r),
                r &&
                  "background-image" === n &&
                  ((e !== document.documentElement && e !== document.body) ||
                    r !== u ||
                    (r = "none"),
                  c(r)),
                Or.set(e, Ir(e, t)));
            }))
          : "object" == typeof l &&
            (function (t) {
              let n = [];
              function r(t) {
                (n.forEach(({ property: t }) => {
                  e.style.removeProperty(t);
                }),
                  t.forEach(({ property: t, value: n }) => {
                    n instanceof Promise || e.style.setProperty(t, n);
                  }),
                  (n = t));
              }
              (r(t.declarations), t.onTypeChange.addListener(r));
            })(l);
    }
    if (
      n.length > 0 &&
      (function (e, t) {
        for (let n = 0, r = t.length; n < r; n++) {
          const r = t[n];
          if (e.matches(r)) return !0;
        }
        return !1;
      })(e, n)
    )
      return void o.forEach((t) => {
        e.removeAttribute(xr[t].dataAttr);
      });
    const a = e instanceof SVGElement,
      i = a
        ? (e.ownerSVGElement ?? (e instanceof SVGSVGElement ? e : null))
        : null;
    if (a && 1 === t.mode && i) {
      if (Nr.has(i)) return;
      if (
        (function (e) {
          if (Fr.has(e)) return Fr.get(e);
          const t = Boolean(
            e &&
            (e.getAttribute("class")?.includes("logo") ||
              e.parentElement?.getAttribute("class")?.includes("logo")),
          );
          return (Fr.set(e, t), t);
        })(i)
      ) {
        Nr.add(i);
        const e = () => {
          let e = i.outerHTML;
          e = e.replaceAll(
            '<style class="darkreader darkreader--sync" media="screen"></style>',
            "",
          );
          un(`data:image/svg+xml;base64,${btoa(e)}`).then((e) => {
            (e.isDark && e.isTransparent) ||
            (e.isLarge && e.isLight && !e.isTransparent)
              ? i.setAttribute("data-darkreader-inline-invert", "")
              : i.removeAttribute("data-darkreader-inline-invert");
          });
        };
        return (e(), void (He() || ze(e)));
      }
    }
    if (e.hasAttribute("bgcolor")) {
      let t = e.getAttribute("bgcolor");
      ((t.match(/^[0-9a-f]{3}$/i) || t.match(/^[0-9a-f]{6}$/i)) &&
        (t = `#${t}`),
        s("background-color", "background-color", t));
    }
    if (
      (e === document.documentElement || e === document.body) &&
      e.hasAttribute("background")
    ) {
      s(
        "background-image",
        "background-image",
        `url("${G(location.href, e.getAttribute("background") ?? "")}")`,
      );
    }
    if (e.hasAttribute("color") && "mask-icon" !== e.rel) {
      let t = e.getAttribute("color");
      ((t.match(/^[0-9a-f]{3}$/i) || t.match(/^[0-9a-f]{6}$/i)) &&
        (t = `#${t}`),
        s("color", "color", t));
    }
    if (a) {
      if (e.hasAttribute("fill")) {
        const t = 32,
          n = e.getAttribute("fill");
        if ("none" !== n)
          if (e instanceof SVGTextElement) s("fill", "color", n);
          else {
            const r = () => {
              const { width: r, height: o } = e.getBoundingClientRect();
              s("fill", r > t || o > t ? "background-color" : "color", n);
            };
            Ke() ? r() : Je(r);
          }
      }
      e.hasAttribute("stop-color") &&
        s("stop-color", "background-color", e.getAttribute("stop-color"));
    }
    if (e.hasAttribute("stroke")) {
      const t = e.getAttribute("stroke");
      s(
        "stroke",
        e instanceof SVGLineElement || e instanceof SVGTextElement
          ? "border-color"
          : "color",
        t,
      );
    }
    (e.style &&
      ot(e.style, (t, n) => {
        if ("background-image" === t && n.includes("url"))
          (e !== document.documentElement && e !== document.body) || s(t, t, n);
        else if (xr.hasOwnProperty(t) || (t.startsWith("--") && !Ar[t]))
          s(t, t, n);
        else if (Rr[t] && n.includes("var(")) s(t, t, n);
        else {
          const n = Ar[t];
          if (n && !e.style.getPropertyValue(n) && !e.hasAttribute(n)) {
            if ("background-color" === n && e.hasAttribute("bgcolor")) return;
            e.style.setProperty(t, "");
          }
        }
      }),
      e.style &&
        e instanceof SVGTextElement &&
        e.style.fill &&
        s("fill", "color", e.style.getPropertyValue("fill")),
      e.getAttribute("style")?.includes("--") &&
        Kn.addInlineStyleForMatching(e.style),
      Q(o, (t) => {
        e.removeAttribute(xr[t].dataAttr);
      }),
      Or.set(e, Ir(e, t)));
  }
  const jr = "theme-color",
    Ur = `meta[name="${jr}"]`;
  let Br = null,
    Hr = null;
  function Gr(e, t) {
    Br = Br || e.content;
    const n = ce(Br);
    n && (e.content = Nt(n, t, !1));
  }
  const zr = /\/\*[\s\S]*?\*\//g;
  function Qr(e) {
    return e.replace(zr, "");
  }
  let Kr = !1;
  function Yr(e, t, n, r) {
    let o = null;
    let s = !1;
    function a() {
      ((Kr = !0),
        o?.stop(),
        s ||
          ((s = !0),
          queueMicrotask(function () {
            ((s = !1), r() || n());
          })));
    }
    return {
      start: function () {
        (e.addEventListener("__darkreader__updateSheet", a),
          (Kr && e.sheet) ||
            ((o = (function (e, t, n, r) {
              let o = null,
                s = null;
              function a() {
                const e = t();
                return e ? e.length : null;
              }
              function i() {
                return a() !== o;
              }
              function c() {
                ((o = a()), l());
                const t = () => {
                  const c = r();
                  (!c && i() && ((o = a()), n()),
                    c || (Kr && e.sheet)
                      ? l()
                      : (s = requestAnimationFrame(t)));
                };
                t();
              }
              function l() {
                s && cancelAnimationFrame(s);
              }
              return { start: c, stop: l };
            })(e, t, n, r)),
            o.start()));
      },
      stop: function () {
        (e.removeEventListener("__darkreader__updateSheet", a), o?.stop());
      },
    };
  }
  document.addEventListener(
    "__darkreader__inlineScriptsAllowed",
    () => (Kr = !0),
    { once: !0 },
  );
  const Jr = [
    "account.containerstore.com",
    "containerstore.com",
    "www.onet.pl",
  ];
  function Xr(e) {
    return (
      (e instanceof HTMLStyleElement ||
        (e instanceof SVGStyleElement && !Jr.includes(location.hostname)) ||
        (e instanceof HTMLLinkElement &&
          Boolean(e.rel) &&
          e.rel.toLowerCase().includes("stylesheet") &&
          Boolean(e.href) &&
          !e.disabled &&
          (!m || !e.href.startsWith("moz-extension://")) &&
          !(function (e) {
            if (!e.href) return !1;
            try {
              return "fonts.googleapis.com" === new URL(e.href).hostname;
            } catch (t) {
              return (e.href, !1);
            }
          })(e))) &&
      !e.classList.contains("darkreader") &&
      "print" !== e.media.toLowerCase() &&
      !e.classList.contains("stylus")
    );
  }
  function Zr(e, t = [], n = !0) {
    return (
      Xr(e)
        ? t.push(e)
        : (e instanceof Element ||
            (y && e instanceof ShadowRoot) ||
            e === document) &&
          (Q(
            e.querySelectorAll(
              'style, link[rel*="stylesheet" i]:not([disabled])',
            ),
            (e) => Zr(e, t, !1),
          ),
          n && Be(e, (e) => Zr(e.shadowRoot, t, !1))),
      t
    );
  }
  const eo = new WeakSet(),
    to = new WeakSet();
  let no = 0;
  const ro = new Map();
  function oo(e, { update: t, loadingStart: n, loadingEnd: r }) {
    const o = vr();
    let s = null,
      a = null;
    if ("next" === o) {
      const t = [];
      let n = e;
      for (; (n = n.nextElementSibling) && n.matches(".darkreader"); )
        t.push(n);
      ((s =
        t.find((e) => e.matches(".darkreader--cors") && !to.has(e)) || null),
        (a =
          t.find((e) => e.matches(".darkreader--sync") && !eo.has(e)) || null));
    }
    let i = null,
      c = null,
      l = !1,
      u = !0;
    const d = () => l,
      h = br(),
      f = new MutationObserver((n) => {
        if (n.some((e) => "characterData" === e.type) && g()) {
          v((e.textContent ?? "").trim(), location.href).then(t);
        } else t();
      }),
      m = { attributes: !0, childList: !0, subtree: !0, characterData: !0 };
    function g() {
      if (!(e instanceof HTMLStyleElement)) return !1;
      return Qr(e.textContent ?? "")
        .trim()
        .match(it);
    }
    function b(e, t) {
      let n = !1;
      if (e) {
        let r;
        e: for (let o = 0, s = e.length; o < s; o++)
          if (((r = e[o]), r.href)) {
            if (!t) {
              n = !0;
              break e;
            }
            if (
              !r.href.startsWith("https://fonts.googleapis.com/") &&
              r.href.startsWith("http") &&
              !r.href.startsWith(location.origin)
            ) {
              n = !0;
              break e;
            }
          }
      }
      return n;
    }
    function y() {
      if (s) return s.sheet.cssRules;
      if (g()) return null;
      const t = R();
      return (e instanceof HTMLLinkElement &&
        !(function (e) {
          if (e.startsWith("data:")) return !0;
          const t = H(e);
          return (
            t.protocol === location.protocol &&
            t.hostname === location.hostname &&
            t.port === location.port &&
            t.pathname === location.pathname
          );
        })(e.href) &&
        b(t, !1)) ||
        b(t, !0)
        ? null
        : t;
    }
    function k() {
      "next" === o
        ? s
          ? (e.nextSibling !== s && e.parentNode.insertBefore(s, e.nextSibling),
            s.nextSibling !== a && e.parentNode.insertBefore(a, s.nextSibling))
          : e.nextSibling !== a && e.parentNode.insertBefore(a, e.nextSibling)
        : "away" === o && (s && !s.parentNode && Cr(s), Cr(a));
    }
    let w = !1,
      S = !1;
    const _ = ++no;
    async function E() {
      let t, n;
      if (e instanceof HTMLLinkElement) {
        let [o, s] = x();
        if (
          (p && !e.sheet) ||
          (!p && !o && !s) ||
          ((r = s) && r.message && r.message.includes("loading"))
        ) {
          try {
            await (async function (e, t) {
              return new Promise((n, r) => {
                const o = () => {
                    (e.removeEventListener("load", s),
                      e.removeEventListener("error", a),
                      ro.delete(t));
                  },
                  s = () => {
                    (o(), n());
                  },
                  a = () => {
                    (o(), r(`Linkelement ${t} couldn't be loaded. ${e.href}`));
                  };
                (ro.set(t, () => {
                  (o(), r());
                }),
                  e.addEventListener("load", s, { passive: !0 }),
                  e.addEventListener("error", a, { passive: !0 }),
                  e.href || a());
              });
            })(e, _);
          } catch (e) {
            S = !0;
          }
          if (l) return null;
          [o, s] = x();
        }
        if (o && !b(o, !1)) return o;
        try {
          t = await so(e.href);
        } catch (e) {
          t = "";
        }
        if (((n = lt(e.href)), l)) return null;
      } else {
        if (!g()) return null;
        ((t = e.textContent.trim()), (n = lt(location.href)));
      }
      var r;
      return (await v(t, n), s ? s.sheet.cssRules : null);
    }
    async function v(t, n) {
      if (t) {
        try {
          const r = await ao(t, n);
          s
            ? (s.textContent?.length ?? 0) < r.length && (s.textContent = r)
            : ((s = (function (e, t) {
                if (!e) return null;
                const n = document.createElement("style");
                return (
                  n.classList.add("darkreader"),
                  n.classList.add("darkreader--cors"),
                  (n.media = "screen"),
                  (n.textContent = e),
                  t(n),
                  (n.sheet.disabled = !0),
                  to.add(n),
                  n
                );
              })(
                r,
                "next" === o
                  ? (t) => e.parentNode.insertBefore(t, e.nextSibling)
                  : Cr,
              )),
              s &&
                ("next" === o
                  ? e.parentNode.insertBefore(s, e.nextSibling)
                  : "away" === o && Cr(s)));
        } catch (e) {}
        s && "next" === o && (i = Ue(s, "prev-sibling"));
      }
    }
    let C = !1;
    function x() {
      try {
        return null == e.sheet ? [null, null] : [e.sheet.cssRules, null];
      } catch (e) {
        return [null, e];
      }
    }
    function R() {
      const [e, t] = x();
      return t ? null : e;
    }
    const $ = Yr(e, R, t, d);
    function A() {
      (f.disconnect(), (l = !0), i && i.stop(), c && c.stop(), $.stop());
    }
    let T = 0;
    return {
      details: function (e) {
        const o = y();
        return o
          ? { rules: o }
          : (e.secondRound ||
              w ||
              S ||
              ((w = !0),
              n(),
              E()
                .then((e) => {
                  ((w = !1), r(), e && t());
                })
                .catch((e) => {
                  ((w = !1), r());
                })),
            null);
      },
      render: function (n, r) {
        const s = y();
        function i() {
          (a ||
            ((a =
              e instanceof SVGStyleElement
                ? document.createElementNS(
                    "http://www.w3.org/2000/svg",
                    "style",
                  )
                : document.createElement("style")),
            a.classList.add("darkreader"),
            a.classList.add("darkreader--sync"),
            (a.media = "screen"),
            e.title && (a.title = e.title),
            eo.add(a)),
            c && c.stop(),
            k(),
            null == a.sheet && (a.textContent = ""));
          return (
            (function (e) {
              if (e)
                for (let t = e.cssRules.length - 1; t >= 0; t--)
                  e.deleteRule(t);
            })(a.sheet),
            c
              ? c.run()
              : "next" === o &&
                (c = Ue(a, "prev-sibling", () => {
                  ((C = !0), f());
                })),
            a.sheet
          );
        }
        function f() {
          const e = C;
          ((C = !1),
            h.modifySheet({
              prepareSheet: i,
              sourceCSSRules: s,
              theme: n,
              ignoreImageAnalysis: r,
              force: e,
              isAsyncCancelled: d,
            }),
            (u = 0 === a.sheet.cssRules.length),
            h.shouldRebuildStyle() && Je(() => t()));
        }
        s && ((l = !1), f());
      },
      pause: A,
      destroy: function () {
        if ((A(), je(s), je(a), r(), ro.has(_))) {
          const e = ro.get(_);
          (ro.delete(_), e && e());
        }
      },
      watch: function () {
        (f.observe(e, m), e instanceof HTMLStyleElement && $.start());
      },
      restore: function () {
        a &&
          (T++,
          T > 10 || (k(), i && i.skip(), c && c.skip(), u || ((C = !0), t())));
      },
    };
  }
  async function so(e) {
    if (e.startsWith("data:")) return await (await fetch(e)).text();
    const t = (function (e) {
      const t = `${Zt}${e}`;
      try {
        return sessionStorage.getItem(t) ?? null;
      } catch (e) {}
      return null;
    })(e);
    if (t) return t;
    let n;
    return (
      (n =
        new URL(e).origin === location.origin
          ? await (async function (e, t, n) {
              const r = await E(e, t, n);
              return await r.text();
            })(e, "text/css", location.origin)
          : await cn({
              url: e,
              responseType: "text",
              mimeType: "text/css",
              origin: location.origin,
            })),
      (function (e, t) {
        const n = `${Zt}${e}`;
        try {
          sessionStorage.setItem(n, t);
        } catch (e) {}
      })(e, n),
      n
    );
  }
  async function ao(e, t, n = new Map()) {
    ((e = Qr(e)),
      (e = (function (e, t) {
        return e.replace(at, (e) => {
          try {
            const n = ct(e);
            return `url('${G(t, n).replaceAll("'", "\\'")}')`;
          } catch (t) {
            return e;
          }
        });
      })((e = e.replace(ut, "")), t)));
    const r = (function (e, t, n = 0) {
      const r = [];
      let o;
      for (; (o = e.exec(t)); ) r.push({ text: o[n], offset: o.index });
      return r;
    })(it, e);
    let o = null,
      s = !1,
      a = 0;
    for (const i of r) {
      let r;
      const c = o ? o.offset + o.text.length : 0,
        l = i.offset,
        u = e.indexOf("{", c),
        d = e.indexOf("}", c);
      if (s || (u >= 0 && u < l && d >= 0 && d < l)) ((s = !0), (r = ""));
      else {
        const e = G(
          t,
          ct(
            i.text
              .substring(7)
              .trim()
              .replace(/;$/, "")
              .replace(/screen$/, ""),
          ),
        );
        if (n.has(e)) r = n.get(e);
        else
          try {
            ((r = await so(e)), n.set(e, r), (r = await ao(r, lt(e), n)));
          } catch (e) {
            r = "";
          }
      }
      ((e =
        e.substring(0, i.offset + a) +
        r +
        e.substring(i.offset + i.text.length + a)),
        (a += r.length - i.text.length),
        (o = i));
    }
    return (e = e.trim());
  }
  function io(e, t) {
    document.dispatchEvent(
      new CustomEvent("__darkreader__inlineScriptsAllowed"),
    );
    const n = [];
    function r(e, t, r) {
      (document.addEventListener(e, t, r),
        n.push(() => document.removeEventListener(e, t)));
    }
    function o(e, t, r) {
      const o = e.prototype,
        s = Object.getOwnPropertyDescriptor(o, t);
      if (!s) return;
      const a = { ...s };
      (Object.keys(r).forEach((e) => {
        const t = r[e];
        a[e] = t(s[e]);
      }),
        Object.defineProperty(o, t, a),
        n.push(() => Object.defineProperty(o, t, s)));
    }
    function s(e, t, n) {
      o(e, t, { value: n });
    }
    function a(e) {
      return e?.classList?.contains("darkreader");
    }
    function i(e) {
      return a(e.ownerNode);
    }
    (r("__darkreader__cleanUp", function () {
      (n.forEach((e) => e()), n.splice(0));
    }),
      r("__darkreader__disableConflictingPlugins", function () {
        window?.WPDarkMode?.deactivate && window.WPDarkMode.deactivate();
      }));
    const c = new CustomEvent("__darkreader__updateSheet"),
      l = new CustomEvent("__darkreader__adoptedStyleSheetChange"),
      u = new CustomEvent("__darkreader__shadowDomAttaching", { bubbles: !0 }),
      d = new WeakMap(),
      h = new WeakMap();
    function f(e) {
      const t = d.get(e);
      t?.forEach((e) => {
        e.isConnected ? e.dispatchEvent(l) : t.delete(e);
      });
    }
    function m(e) {
      (e.ownerNode && !i(e) && e.ownerNode.dispatchEvent(c), d.has(e) && f(e));
    }
    (s(
      CSSStyleSheet,
      "addRule",
      (e) =>
        function (t, n, r) {
          return (e.call(this, t, n, r), m(this), -1);
        },
    ),
      s(
        CSSStyleSheet,
        "insertRule",
        (e) =>
          function (t, n) {
            const r = e.call(this, t, n);
            return (m(this), r);
          },
      ),
      s(
        CSSStyleSheet,
        "deleteRule",
        (e) =>
          function (t) {
            (e.call(this, t), m(this));
          },
      ),
      s(
        CSSStyleSheet,
        "removeRule",
        (e) =>
          function (t) {
            (e.call(this, t), m(this));
          },
      ),
      s(
        CSSStyleSheet,
        "replace",
        (e) =>
          function (t) {
            const n = e.call(this, t);
            return (
              (function (e, t) {
                const { ownerNode: n } = e;
                (n &&
                  !i(e) &&
                  t &&
                  t instanceof Promise &&
                  t.then(() => n.dispatchEvent(c)),
                  d.has(e) && t && t instanceof Promise && t.then(() => f(e)));
              })(this, n),
              n
            );
          },
      ),
      s(
        CSSStyleSheet,
        "replaceSync",
        (e) =>
          function (t) {
            (e.call(this, t), m(this));
          },
      ),
      s(
        Element,
        "attachShadow",
        (e) =>
          function (t) {
            return (this.dispatchEvent(u), e.call(this, t));
          },
      ));
    ("baidu.com" === location.hostname ||
      location.hostname.endsWith(".baidu.com")) &&
      s(
        Element,
        "getElementsByTagName",
        (e) =>
          function (t) {
            if ("style" !== t) return e.call(this, t);
            const n = () => {
              const n = e.call(this, t);
              return Object.setPrototypeOf(
                [...n].filter((e) => e && !a(e)),
                NodeList.prototype,
              );
            };
            let r = n();
            return (
              (r = new Proxy(r, {
                get: function (e, t) {
                  return n()[Number(t) || t];
                },
              })),
              r
            );
          },
      );
    function p(e) {
      customElements.whenDefined(e).then(() => {
        document.dispatchEvent(
          new CustomEvent("__darkreader__isDefined", { detail: { tag: e } }),
        );
      });
    }
    (["brilliant.org", "www.vy.no"].includes(location.hostname) &&
      o(Node, "childNodes", {
        get: (e) =>
          function () {
            const t = e.call(this);
            return Object.setPrototypeOf(
              [...t].filter((e) => !a(e)),
              NodeList.prototype,
            );
          },
      }),
      r("__darkreader__addUndefinedResolver", (e) => p(e.detail.tag)),
      t &&
        s(
          CustomElementRegistry,
          "define",
          (e) =>
            function (t, n, r) {
              (p(t), e.call(this, t, n, r));
            },
        ));
    let g = null;
    function b() {
      document.dispatchEvent(
        new CustomEvent("__darkreader__blobURLCheckResponse", {
          detail: { blobURLAllowed: g },
        }),
      );
    }
    (r("__darkreader__blobURLCheckRequest", function () {
      if (null != g)
        return void document.dispatchEvent(
          new CustomEvent("__darkreader__blobURLCheckResponse", {
            detail: { blobURLAllowed: g },
          }),
        );
      const e =
          '<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><rect width="1" height="1" fill="transparent"/></svg>',
        t = new Uint8Array(114);
      for (let n = 0; n < 114; n++) t[n] = e.charCodeAt(n);
      const n = new Blob([t], { type: "image/svg+xml" }),
        r = URL.createObjectURL(n),
        o = new Image();
      ((o.onload = () => {
        ((g = !0), b());
      }),
        (o.onerror = () => {
          ((g = !1), b());
        }),
        (o.src = r));
    }),
      e &&
        o(Document, "styleSheets", {
          get: (e) =>
            function () {
              const t = () => {
                const t = [...e.call(this)].filter((e) => e.ownerNode && !i(e));
                return (
                  (t.item = (e) => t[e]),
                  Object.setPrototypeOf(t, StyleSheetList.prototype)
                );
              };
              let n = t();
              return (
                (n = new Proxy(n, {
                  get: function (e, n) {
                    return t()[n];
                  },
                })),
                n
              );
            },
        }));
    {
      const e = new WeakMap(),
        t = new WeakMap(),
        n = new CustomEvent("__darkreader__adoptedStyleSheetsChange"),
        r = new WeakSet(),
        a = new WeakMap(),
        i = (e) =>
          !(!e || !e.cssRules) &&
          (!!r.has(e) ||
            (!!(
              e.cssRules.length > 0 &&
              e.cssRules[0].cssText.startsWith("#__darkreader__adoptedOverride")
            ) &&
              (r.add(e), !0))),
        c = (e, t) => e.length === t.length && e.every((e, n) => e === t[n]),
        l = (e) => {
          const t = a.get(e),
            r = (e.adoptedStyleSheets || []).filter((e) => !i(e));
          (a.set(e, r),
            (t && c(t, r)) ||
              (r.forEach((t) => {
                (d.has(t) || d.set(t, new Set()), d.get(t).add(e));
                for (const e of t.cssRules) {
                  const n = e.style;
                  n && h.set(n, t);
                }
              }),
              e.dispatchEvent(n)));
        },
        u = (n, r) => {
          if (t.has(r)) return r;
          if (e.has(r)) return e.get(r);
          const o = new Proxy(r, {
            deleteProperty: (e, t) => (delete e[t], !0),
            set: (e, t, r) => ((e[t] = r), "length" === t && l(n), !0),
          });
          return (e.set(r, o), t.set(o, r), o);
        };
      [Document, ShadowRoot].forEach((e) => {
        o(e, "adoptedStyleSheets", {
          get: (e) =>
            function () {
              const t = e.call(this);
              return u(this, t);
            },
          set: (e) =>
            function (n) {
              (t.has(n) && (n = t.get(n)), e.call(this, n), l(this));
            },
        });
      });
      const f = new CustomEvent("__darkreader__adoptedStyleDeclarationChange");
      ["setProperty", "removeProperty"].forEach((e) => {
        s(
          CSSStyleDeclaration,
          e,
          (e) =>
            function (...t) {
              const n = e.apply(this, t),
                r = h.get(this);
              if (r) {
                const e = d.get(r);
                e &&
                  e.forEach((e) => {
                    e.dispatchEvent(f);
                  });
              }
              return n;
            },
        );
      });
    }
  }
  const co = new Set(),
    lo = new Map();
  let uo;
  function ho(e) {
    let t = e.tagName.toLowerCase();
    if (!t.includes("-")) {
      const n = e.getAttribute("is");
      if (!n) return;
      t = n;
    }
    (lo.has(t) ||
      (lo.set(t, new Set()),
      (async function (e) {
        if (co.has(e)) return;
        return new Promise((t) => {
          if (
            window.customElements &&
            "function" == typeof customElements.whenDefined
          )
            customElements.whenDefined(e).then(() => t());
          else if (mo)
            (go.has(e) ? go.get(e).push(t) : go.set(e, [t]),
              document.dispatchEvent(
                new CustomEvent("__darkreader__addUndefinedResolver", {
                  detail: { tag: e },
                }),
              ));
          else {
            const n = () => {
              const r = lo.get(e);
              r &&
                r.size > 0 &&
                (r.values().next().value.matches(":defined")
                  ? t()
                  : requestAnimationFrame(n));
            };
            requestAnimationFrame(n);
          }
        });
      })(t).then(() => {
        if (uo) {
          const e = lo.get(t);
          (lo.delete(t), uo(Array.from(e)));
        }
      })),
      lo.get(t).add(e));
  }
  function fo(e) {
    S && Q(e.querySelectorAll(":not(:defined)"), ho);
  }
  let mo = !1;
  document.addEventListener(
    "__darkreader__inlineScriptsAllowed",
    () => {
      mo = !0;
    },
    { once: !0, passive: !0 },
  );
  const po = new Set();
  document.addEventListener("__darkreader__shadowDomAttaching", (e) => {
    const t = e.target;
    (0 === po.size &&
      queueMicrotask(() => {
        const e = [...po].filter((e) => e.shadowRoot);
        (uo?.(e), po.clear());
      }),
      po.add(t));
  });
  const go = new Map();
  function bo(e) {
    mo = !0;
    const t = e.detail.tag;
    if ((co.add(t), go.has(t))) {
      const e = go.get(t);
      (go.delete(t), e.forEach((e) => e()));
    }
  }
  const yo = [];
  let ko, wo;
  function So(e, t, n) {
    _o();
    const r = new WeakMap(),
      o = (e) => (r.has(e) || r.set(e, new Set()), r.get(e));
    e.forEach((e) => {
      let t = e;
      for (; (t = t.parentNode); )
        if (t === document || t.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
          o(t).add(e);
          break;
        }
    });
    const s = new WeakMap(),
      a = new WeakMap();
    function i(e) {
      (s.set(e, e.previousElementSibling), a.set(e, e.nextElementSibling));
    }
    function c(e, n) {
      const { createdStyles: r, removedStyles: c, movedStyles: l } = n;
      (r.forEach((e) => i(e)),
        l.forEach((e) => i(e)),
        c.forEach((e) => {
          return ((t = e), s.delete(t), void a.delete(t));
          var t;
        }));
      const u = o(e);
      (r.forEach((e) => u.add(e)),
        c.forEach((e) => u.delete(e)),
        r.size + c.size + l.size > 0 &&
          t({
            created: Array.from(r),
            removed: Array.from(c),
            moved: Array.from(l),
            updated: [],
          }));
    }
    function l(e, { additions: t, moves: n, deletions: r }) {
      const o = new Set(),
        s = new Set(),
        a = new Set();
      (t.forEach((e) => Zr(e).forEach((e) => o.add(e))),
        r.forEach((e) => Zr(e).forEach((e) => s.add(e))),
        n.forEach((e) => Zr(e).forEach((e) => a.add(e))),
        c(e, { createdStyles: o, removedStyles: s, movedStyles: a }),
        t.forEach((e) => {
          (m(e), fo(e));
        }),
        t.forEach((e) => {
          return (
            !(!(t = e).tagName.includes("-") && !t.getAttribute("is")) && ho(e)
          );
          var t;
        }),
        t.forEach((e) => Hn(e)));
    }
    function u(e) {
      const t = new Set(Zr(e)),
        n = new Set(),
        r = new Set(),
        i = new Set(),
        l = o(e);
      (t.forEach((e) => {
        l.has(e) || n.add(e);
      }),
        l.forEach((e) => {
          t.has(e) || r.add(e);
        }),
        t.forEach((e) => {
          var t;
          n.has(e) ||
            r.has(e) ||
            ((t = e).previousElementSibling === s.get(t) &&
              t.nextElementSibling === a.get(t)) ||
            i.add(e);
        }),
        c(e, { createdStyles: n, removedStyles: r, movedStyles: i }),
        m(e),
        fo(e),
        Hn(e));
    }
    function d(e) {
      const n = new Set(),
        r = new Set();
      (e.forEach((e) => {
        const { target: t } = e;
        t.isConnected &&
          (Xr(t)
            ? n.add(t)
            : t instanceof HTMLLinkElement && t.disabled && r.add(t));
      }),
        n.size + r.size > 0 &&
          t({
            updated: Array.from(n),
            created: [],
            removed: Array.from(r),
            moved: [],
          }));
    }
    function h(e) {
      if (ko.has(e)) return;
      const t = et(e, { onMinorMutations: l, onHugeMutations: u }),
        n = new MutationObserver(d);
      (n.observe(e, {
        attributeFilter: ["rel", "disabled", "media", "href"],
        subtree: !0,
      }),
        yo.push(t, n),
        ko.add(e));
    }
    function f(e) {
      const { shadowRoot: t } = e;
      null == t || ko.has(t) || (h(t), n(t));
    }
    function m(e) {
      Be(e, f);
    }
    (e.forEach(i),
      h(document),
      m(document.documentElement),
      (uo = (e) => {
        e = e.filter((e) => !wo.has(e));
        const n = [];
        (e.forEach((e) => K(n, Zr(e.shadowRoot))),
          t({ created: n, updated: [], removed: [], moved: [] }),
          e.forEach((e) => {
            const { shadowRoot: t } = e;
            null != t && (f(e), m(t), fo(t));
          }),
          e.forEach((e) => wo.add(e)));
      }),
      document.addEventListener("__darkreader__isDefined", bo),
      fo(document));
  }
  function _o() {
    (yo.forEach((e) => e.disconnect()),
      yo.splice(0, yo.length),
      (ko = new WeakSet()),
      (wo = new WeakSet()),
      (uo = null),
      lo.clear(),
      document.removeEventListener("__darkreader__isDefined", bo));
  }
  const Eo = De(),
    vo = new Map(),
    Co = [],
    xo = new Map(),
    Ro = new WeakMap();
  let $o = null,
    Ao = null,
    To = null,
    Mo = [],
    Vo = [],
    Lo = new WeakMap();
  function Do(e, t = document.head || document) {
    let n = t.querySelector(`.${e}`);
    Lo.has(t) || Lo.set(t, new Map());
    const r = Lo.get(t);
    return (
      n
        ? r.set(e, n)
        : r.has(e)
          ? (n = r.get(e))
          : ((n = document.createElement("style")),
            n.classList.add("darkreader"),
            n.classList.add(e),
            (n.media = "screen"),
            (n.textContent = ""),
            r.set(e, n)),
      n
    );
  }
  const Po = new Map();
  function Oo(e, t, n, r) {
    const o = vr();
    "next" === o
      ? (document.head.insertBefore(
          e,
          t ? t.nextSibling : document.head.firstChild,
        ),
        (function (e, t, n) {
          (Po.has(t) && Po.get(t).stop(), Po.set(t, Ue(e, "head", n)));
        })(e, n, r))
      : "away" === o && Cr(e);
  }
  function No() {
    const e = Do("darkreader--fallback", document);
    ((e.textContent = Dn($o, { strict: !0 })), Oo(e, null, "fallback"));
    const t = Do("darkreader--user-agent");
    ((t.textContent = Vn($o, To, $o.styleSystemControls)),
      Oo(t, e, "user-agent"));
    const n = Do("darkreader--text");
    ($o.useFont || $o.textStroke > 0
      ? (n.textContent = (function (e) {
          const t = [];
          return (
            t.push(`*:not(${z.join(", ")}) {`),
            e.useFont &&
              e.fontFamily &&
              t.push(`  font-family: ${e.fontFamily} !important;`),
            e.textStroke > 0 &&
              (t.push(`  -webkit-text-stroke: ${e.textStroke}px !important;`),
              t.push(`  text-stroke: ${e.textStroke}px !important;`)),
            t.push("}"),
            t.join("\n")
          );
        })($o))
      : (n.textContent = ""),
      Oo(n, t, "text"));
    const r = Do("darkreader--invert");
    (Ao && Array.isArray(Ao.invert) && Ao.invert.length > 0
      ? (r.textContent = [
          `${Ao.invert.join(", ")} {`,
          `    filter: ${ne({ ...$o, contrast: 0 === $o.mode ? $o.contrast : J($o.contrast - 10, 0, 100) })} !important;`,
          "}",
        ].join("\n"))
      : (r.textContent = ""),
      Oo(r, n, "invert"));
    const o = Do("darkreader--inline");
    ((o.textContent = Vr()), Oo(o, r, "inline"));
    const s = Do("darkreader--variables"),
      a = $o?.selectionColor ? Ln($o) : null,
      i = Nt(ce("#ffffff"), $o),
      c = jt(ce("#000000"), $o);
    ((s.textContent = [
      ":root {",
      `   --darkreader-neutral-background: ${i};`,
      `   --darkreader-neutral-text: ${c};`,
      `   --darkreader-selection-background: ${a?.backgroundColorSelection ?? "initial"};`,
      `   --darkreader-selection-text: ${a?.foregroundColorSelection ?? "initial"};`,
      "}",
    ].join("\n")),
      Oo(s, o, "variables", () => Et(s.sheet)),
      Et(s.sheet));
    const l = Do("darkreader--root-vars");
    Oo(l, s, "root-vars");
    const u = !(Ao && Ao.disableStyleSheetsProxy),
      d = !(Ao && Ao.disableCustomElementRegistryProxy);
    document.dispatchEvent(new CustomEvent("__darkreader__cleanUp"));
    {
      const e = (function (e, t = document.head || document) {
        let n = t.querySelector(`.${e}`);
        return (
          n ||
            ((n = document.createElement("script")),
            n.classList.add("darkreader"),
            n.classList.add(e)),
          n
        );
      })("darkreader--proxy");
      (e.append(`(${io})(${u}, ${d})`),
        document.head.insertBefore(e, l.nextSibling),
        e.remove());
    }
    const h = Do("darkreader--override");
    ((h.textContent = Ao && Ao.css ? qo(Ao.css) : ""),
      Oo(h, document.head.lastChild, "override"));
  }
  const Fo = new Set();
  function Wo(e) {
    const t = Do("darkreader--inline", e);
    ((t.textContent = Vr()), e.insertBefore(t, e.firstChild));
    const n = Do("darkreader--override", e);
    ((n.textContent = Ao && Ao.css ? qo(Ao.css) : ""),
      e.insertBefore(n, t.nextSibling));
    const r = Do("darkreader--invert", e);
    (Ao && Array.isArray(Ao.invert) && Ao.invert.length > 0
      ? (r.textContent = [
          `${Ao.invert.join(", ")} {`,
          `    filter: ${ne({ ...$o, contrast: 0 === $o.mode ? $o.contrast : J($o.contrast - 10, 0, 100) })} !important;`,
          "}",
        ].join("\n"))
      : (r.textContent = ""),
      e.insertBefore(r, n.nextSibling),
      Fo.add(e));
  }
  function Io(e) {
    const t = null === e.firstChild;
    (Wo(e),
      t &&
        (function (e) {
          new MutationObserver((t, n) => {
            n.disconnect();
            for (const { type: n, removedNodes: r } of t)
              if ("childList" === n)
                for (const { nodeName: t, className: n } of r)
                  if (
                    "STYLE" === t &&
                    [
                      "darkreader darkreader--inline",
                      "darkreader darkreader--override",
                      "darkreader darkreader--invert",
                    ].includes(n)
                  )
                    return void Wo(e);
          }).observe(e, { childList: !0 });
        })(e));
  }
  function qo(e) {
    return e.replace(/\${(.+?)}/g, (e, t) => {
      const n = ce(t);
      if (n) {
        return $e(n.r, n.g, n.b) > 0.5 ? Nt(n, $o) : jt(n, $o);
      }
      return t;
    });
  }
  function jo() {
    const e =
      Lo.get(document.head)?.get("darkreader--fallback") ||
      Lo.get(document)?.get("darkreader--fallback") ||
      document.querySelector(".darkreader--fallback");
    e && (e.textContent = "");
  }
  function Uo() {
    Ko();
    const e = Zr(document)
      .filter((e) => !vo.has(e))
      .map((e) => Go(e));
    (e
      .map((e) => e.details({ secondRound: !1 }))
      .filter((e) => e && e.rules.length > 0)
      .forEach((e) => {
        Kn.addRulesForMatching(e.rules);
      }),
      Kn.matchVariablesAndDependents(),
      Kn.setOnRootVariableChange(() => {
        const e = Do("darkreader--root-vars");
        Kn.putRootVars(e, $o);
      }));
    const t = Do("darkreader--root-vars");
    (Kn.putRootVars(t, $o),
      vo.forEach((e) => e.render($o, Mo)),
      0 === Ho.size && jo(),
      e.forEach((e) => e.watch()));
    const n = (function (e) {
      const t = [];
      for (let n = 0, r = e.length; n < r; n++) t.push(e[n]);
      return t;
    })(document.querySelectorAll(Mr));
    if (
      (Be(document.documentElement, (e) => {
        Io(e.shadowRoot);
        const t = e.shadowRoot.querySelectorAll(Mr);
        t.length > 0 && K(n, t);
      }),
      n.forEach((e) => qr(e, $o, Vo, Mo)),
      Zo(document),
      Kn.matchVariablesAndDependents(),
      m)
    ) {
      const e = (e) => {
        const { sheets: t } = e.detail;
        if (!Array.isArray(t) || 0 === t.length) return;
        (t.forEach(({ sheet: e }) => {
          const { cssRules: t } = e;
          Kn.addRulesForMatching(t);
        }),
          Kn.matchVariablesAndDependents());
        const n = [];
        var r, o;
        (t.forEach(({ sheetId: e, sheet: t }) => {
          const r = (function (e) {
              let t = xo.get(e);
              t ||
                ((t = (function () {
                  let e = !1;
                  const t = new _r();
                  return {
                    render: function (n) {
                      br().modifySheet({
                        prepareSheet: () => (t.replaceSync(""), t),
                        sourceCSSRules: n.cssRules,
                        theme: n.theme,
                        ignoreImageAnalysis: n.ignoreImageAnalysis,
                        force: !1,
                        isAsyncCancelled: () => e,
                      });
                    },
                    destroy: function () {
                      e = !0;
                    },
                    commands: function () {
                      const e = t.getDeepCSSCommands();
                      return (t.clearDeepCSSCommands(), e);
                    },
                  };
                })()),
                xo.set(e, t));
              return t;
            })(t),
            o = t.cssRules;
          r.render({ theme: $o, ignoreImageAnalysis: Mo, cssRules: o });
          const s = r.commands();
          n.push({ sheetId: e, commands: s });
        }),
          (r = (function (e) {
            if (Ro.has(e)) return Ro.get(e);
            const t = Symbol();
            return (Ro.set(e, t), t);
          })(t[0].sheet)),
          (o = () => {
            document.dispatchEvent(
              new CustomEvent("__darkreader__adoptedStyleSheetCommands", {
                detail: JSON.stringify(n),
              }),
            );
          }),
          Le.has(r) ||
            (Le.add(r),
            requestAnimationFrame(() => {
              (Le.delete(r), o());
            })));
      };
      (document.addEventListener("__darkreader__adoptedStyleSheetsChange", e),
        cs.push(() =>
          document.removeEventListener(
            "__darkreader__adoptedStyleSheetsChange",
            e,
          ),
        ),
        document.dispatchEvent(
          new CustomEvent("__darkreader__startAdoptedStyleSheetsWatcher"),
        ));
    }
  }
  let Bo = 0;
  const Ho = new Set();
  function Go(e) {
    const t = ++Bo;
    const n = oo(e, {
      update: function () {
        const e = n.details({ secondRound: !0 });
        e &&
          (Kn.addRulesForMatching(e.rules),
          Kn.matchVariablesAndDependents(),
          n.render($o, Mo));
      },
      loadingStart: function () {
        if (!He() || !Ie()) {
          (Ho.add(t), Ho.size);
          const e = Do("darkreader--fallback");
          e.textContent || (e.textContent = Dn($o, { strict: !1 }));
        }
      },
      loadingEnd: function () {
        (Ho.delete(t), Ho.size, 0 === Ho.size && He() && jo());
      },
    });
    return (vo.set(e, n), n);
  }
  function zo(e) {
    const t = vo.get(e);
    t && (t.destroy(), vo.delete(e));
  }
  const Qo = Ve((e) => {
      (vo.forEach((e) => e.render($o, Mo)),
        Co.forEach((e) => e.render($o, Mo)),
        e && e());
    }),
    Ko = function () {
      Qo.cancel();
    };
  function Yo() {
    0 !== Ho.size || jo();
  }
  function Jo() {
    (Uo(),
      So(
        Array.from(vo.keys()),
        ({ created: e, updated: t, removed: n, moved: r }) => {
          const o = n,
            s = e
              .concat(t)
              .concat(r)
              .filter((e) => !vo.has(e)),
            a = r.filter((e) => vo.has(e));
          o.forEach((e) => zo(e));
          const i = s.map((e) => Go(e));
          (i
            .map((e) => e.details({ secondRound: !1 }))
            .filter((e) => e && e.rules.length > 0)
            .forEach((e) => {
              Kn.addRulesForMatching(e.rules);
            }),
            Kn.matchVariablesAndDependents(),
            i.forEach((e) => e.render($o, Mo)),
            i.forEach((e) => e.watch()),
            a.forEach((e) => vo.get(e).restore()));
        },
        (e) => {
          (Io(e), Zo(e));
        },
      ),
      (function (e, t) {
        (Pr(document, e, t),
          Be(document.documentElement, (n) => {
            Pr(n.shadowRoot, e, t);
          }));
      })(
        (e) => {
          if (
            (qr(e, $o, Vo, Mo),
            e === document.documentElement &&
              (e.getAttribute("style") || "").includes("--"))
          ) {
            Kn.matchVariablesAndDependents();
            const e = Do("darkreader--root-vars");
            Kn.putRootVars(e, $o);
          }
        },
        (e) => {
          Io(e);
          const t = e.querySelectorAll(Mr);
          t.length > 0 && Q(t, (e) => qr(e, $o, Vo, Mo));
        },
      ),
      ze(Yo));
  }
  function Xo() {
    (No(),
      Ie() || $o.immediateModify ? Jo() : Fe(Jo),
      (function (e) {
        const t = document.querySelector(Ur);
        t
          ? Gr(t, e)
          : (Hr && Hr.disconnect(),
            (Hr = new MutationObserver((t) => {
              e: for (let n = 0; n < t.length; n++) {
                const { addedNodes: r } = t[n];
                for (let t = 0; t < r.length; t++) {
                  const n = r[t];
                  if (n instanceof HTMLMetaElement && n.name === jr) {
                    (Hr.disconnect(), (Hr = null), Gr(n, e));
                    break e;
                  }
                }
              }
            })),
            Hr.observe(document.head, { childList: !0 }));
      })($o));
  }
  function Zo(e) {
    if (
      !m &&
      (function (e) {
        return Array.isArray(e.adoptedStyleSheets);
      })(e)
    ) {
      e.adoptedStyleSheets.forEach((e) => {
        Kn.addRulesForMatching(e.cssRules);
      });
      const t = Sr(e);
      (Co.push(t),
        t.render($o, Mo),
        t.watch((e) => {
          (e.forEach((e) => {
            Kn.addRulesForMatching(e.cssRules);
          }),
            Kn.matchVariablesAndDependents(),
            t.render($o, Mo));
        }));
    }
  }
  function es() {
    (vo.forEach((e) => e.pause()),
      Q(Po.values(), (e) => e.stop()),
      Po.clear(),
      _o(),
      Lr.forEach((e) => e.disconnect()),
      Dr.forEach((e) => e.disconnect()),
      Lr.clear(),
      Dr.clear(),
      Qe(Yo),
      Ye.clear());
  }
  let ts,
    ns = null;
  function rs() {
    const e = document.querySelector('meta[name="darkreader"]');
    return e
      ? e.content !== Eo
      : ((function () {
          const e = document.createElement("meta");
          ((e.name = "darkreader"),
            (e.content = Eo),
            document.head.appendChild(e));
        })(),
        (ts = new MutationObserver(() => {
          document.querySelector('meta[name="darkreader-lock"]') &&
            (ts.disconnect(), ls());
        })),
        ts.observe(document.head, { childList: !0, subtree: !0 }),
        !1);
  }
  let os = 2;
  let ss = null,
    as = null;
  function is(e, t, n) {
    (($o = e), (Ao = t));
    const r = [
      "brightness",
      "contrast",
      "darkSchemeBackgroundColor",
      "darkSchemeTextColor",
      "grayscale",
      "lightSchemeBackgroundColor",
      "lightSchemeTextColor",
      "sepia",
    ];
    if (ss && as) {
      const e = new Set([...Object.keys($o), ...Object.keys(ss)]);
      let t = !0;
      for (const n of e)
        if ($o[n] !== ss[n] && !r.includes(n)) {
          t = !1;
          break;
        }
      if ((t && JSON.stringify(Ao) !== JSON.stringify(as) && (t = !1), t)) {
        const e = (function () {
          const e = [],
            t = [],
            n = [];
          return (
            _t.forEach((r) => {
              (r.background && e.push(r.parsed),
                r.border && t.push(r.parsed),
                r.text && n.push(r.parsed));
            }),
            { background: e, border: t, text: n }
          );
        })();
        return (
          Ct(),
          e.background.forEach((e) => Nt(e, $o)),
          e.text.forEach((e) => jt(e, $o)),
          void e.border.forEach((e) => Ht(e, $o))
        );
      }
      Ct();
    }
    (Ao
      ? ((Mo = Array.isArray(Ao.ignoreImageAnalysis)
          ? Ao.ignoreImageAnalysis
          : []),
        (Vo = Array.isArray(Ao.ignoreInlineStyle) ? Ao.ignoreInlineStyle : []))
      : ((Mo = []), (Vo = [])),
      $o.immediateModify && (He = () => !0),
      (To = n));
    const o = () => {
      const e = () => {
          (!(function () {
            if (
              document.documentElement.hasAttribute("data-wp-dark-mode-preset")
            ) {
              const e = () => {
                (document.dispatchEvent(
                  new CustomEvent("__darkreader__disableConflictingPlugins"),
                ),
                  document.documentElement.classList.remove(
                    "wp-dark-mode-active",
                  ),
                  document.documentElement.removeAttribute(
                    "data-wp-dark-mode-active",
                  ));
              };
              (e(),
                new MutationObserver(() => {
                  (document.documentElement.classList.contains(
                    "wp-dark-mode-active",
                  ) ||
                    document.documentElement.hasAttribute(
                      "data-wp-dark-mode-active",
                    )) &&
                    e();
                }).observe(document.documentElement, {
                  attributes: !0,
                  attributeFilter: ["class", "data-wp-dark-mode-active"],
                }));
            }
          })(),
            document.documentElement.setAttribute(
              "data-darkreader-mode",
              "dynamic",
            ),
            document.documentElement.setAttribute(
              "data-darkreader-scheme",
              $o.mode ? "dark" : "dimmed",
            ),
            Xo());
        },
        t = () => {
          ls();
        };
      null != document.querySelector('meta[name="darkreader-lock"]')
        ? je(document.querySelector(".darkreader--fallback"))
        : rs()
          ? (function ({ success: e, failure: t }) {
              if (--os <= 0) return void t();
              const n = document.head.querySelector('meta[name="darkreader"]');
              if (!n || n.content === Eo) return;
              const r = document.createElement("meta");
              ((r.name = "darkreader-lock"),
                document.head.append(r),
                queueMicrotask(() => {
                  (r.remove(), e());
                }));
            })({ success: e, failure: t })
          : e();
    };
    if (document.head) o();
    else {
      if (!m) {
        const e = Do("darkreader--fallback");
        (document.documentElement.appendChild(e),
          (e.textContent = Dn($o, { strict: !0 })));
      }
      (ns?.disconnect(),
        (ns = new MutationObserver(() => {
          document.head && (ns?.disconnect(), o());
        })),
        cs.push(() => {
          (ns?.disconnect(), (ns = null));
        }),
        ns.observe(document, { childList: !0, subtree: !0 }));
    }
    ((ss = $o), (as = Ao));
  }
  const cs = [];
  function ls() {
    if (
      (document.documentElement.removeAttribute("data-darkreader-mode"),
      document.documentElement.removeAttribute("data-darkreader-scheme"),
      Kn.clear(),
      U.clear(),
      We(),
      Ko(),
      es(),
      Qn(),
      ae.clear(),
      ie.clear(),
      (St = null),
      Ct(),
      (ss = null),
      (as = null),
      je(document.querySelector(".darkreader--fallback")),
      document.head)
    ) {
      const e = [
        ".darkreader--user-agent",
        ".darkreader--text",
        ".darkreader--invert",
        ".darkreader--inline",
        ".darkreader--override",
        ".darkreader--variables",
        ".darkreader--root-vars",
        'meta[name="darkreader"]',
      ];
      (!(function () {
        Hr && (Hr.disconnect(), (Hr = null));
        const e = document.querySelector(Ur);
        e && Br && (e.content = Br);
      })(),
        e.forEach((e) => je(document.head.querySelector(e))),
        (Lo = new WeakMap()),
        document.dispatchEvent(new CustomEvent("__darkreader__cleanUp")),
        je(document.head.querySelector(".darkreader--proxy")));
    }
    (Fo.forEach((e) => {
      (je(e.querySelector(".darkreader--inline")),
        je(e.querySelector(".darkreader--override")));
    }),
      Fo.clear(),
      Q(vo.keys(), (e) => zo(e)),
      Ho.clear(),
      ro.clear(),
      Q(document.querySelectorAll(".darkreader"), je),
      Co.forEach((e) => e.destroy()),
      Co.splice(0),
      xo.forEach((e) => e.destroy()),
      xo.clear(),
      ts && ts.disconnect(),
      cs.forEach((e) => e()),
      cs.splice(0));
  }
  function us(e) {
    if (!(e = (e = Qr(e)).trim())) return [];
    const t = [],
      n = hs(e),
      r = ds(e, "{", "}", n);
    let o = 0;
    return (
      r.forEach((n) => {
        const r = e.substring(o, n.start).trim(),
          s = e.substring(n.start + 1, n.end - 1);
        if (r.startsWith("@")) {
          const e = r.search(/[\s\(]/),
            n = {
              type: e < 0 ? r : r.substring(0, e),
              query: e < 0 ? "" : r.substring(e).trim(),
              rules: us(s),
            };
          t.push(n);
        } else {
          const e = { selectors: fs(r), declarations: ms(s) };
          t.push(e);
        }
        o = n.end;
      }),
      t
    );
  }
  function ds(e, t, n, r = []) {
    const o = [];
    let s,
      a = 0;
    for (; (s = W(e, a, t, n, r)); ) (o.push(s), (a = s.end));
    return o;
  }
  function hs(e) {
    const t = e.indexOf("'") < e.indexOf('"'),
      n = t ? "'" : '"',
      r = t ? '"' : "'",
      o = ds(e, n, n);
    return (
      o.push(...ds(e, r, r, o)),
      o.push(...ds(e, "[", "]", o)),
      o.push(...ds(e, "(", ")", o)),
      o
    );
  }
  function fs(e) {
    return q(e, ",", hs(e));
  }
  function ms(e) {
    const t = [];
    return (
      q(e, ";", hs(e)).forEach((e) => {
        const n = e.indexOf(":");
        if (n > 0) {
          const r = e.indexOf("!important");
          t.push({
            property: e.substring(0, n).trim(),
            value: e.substring(n + 1, r > 0 ? r : e.length).trim(),
            important: r > 0,
          });
        }
      }),
      t
    );
  }
  function ps(e) {
    return "selectors" in e;
  }
  function gs(e) {
    return (function (e) {
      const t = [],
        n = "    ";
      function r(e, t) {
        ps(e) ? s(e, t) : o(e, t);
      }
      function o({ type: e, query: o, rules: s }, a) {
        (t.push(`${a}${e} ${o} {`),
          s.forEach((e) => r(e, `${a}${n}`)),
          t.push(`${a}}`));
      }
      function s({ selectors: e, declarations: r }, o) {
        const s = e.length - 1;
        e.forEach((e, n) => {
          t.push(`${o}${e}${n < s ? "," : " {"}`);
        });
        const a = (function (e) {
          const t = /^-[a-z]-/;
          return [...e].sort((e, n) => {
            const r = e.property,
              o = n.property,
              s = r.match(t)?.[0] ?? "",
              a = o.match(t)?.[0] ?? "",
              i = s ? r.replace(t, "") : r,
              c = a ? o.replace(t, "") : o;
            return i === c ? s.localeCompare(a) : i.localeCompare(c);
          });
        })(r);
        (a.forEach(({ property: e, value: r, important: s }) => {
          t.push(`${o}${n}${e}: ${r}${s ? " !important" : ""};`);
        }),
          t.push(`${o}}`));
      }
      return (bs(e), e.forEach((e) => r(e, "")), t.join("\n"));
    })(us(e));
  }
  function bs(e) {
    for (let t = e.length - 1; t >= 0; t--) {
      const n = e[t];
      ps(n)
        ? 0 === n.declarations.length && e.splice(t, 1)
        : (bs(n.rules), 0 === n.rules.length && e.splice(t, 1));
    }
  }
  const ys = /url\(\"(blob\:.*?)\"\)/g;
  async function ks() {
    const e = [
      '/*\n                        _______\n                       /       \\\n                      .==.    .==.\n                     ((  ))==((  ))\n                    / "=="    "=="\\\n                   /____|| || ||___\\\n       ________     ____    ________  ___    ___\n       |  ___  \\   /    \\   |  ___  \\ |  |  /  /\n       |  |  \\  \\ /  /\\  \\  |  |  \\  \\|  |_/  /\n       |  |   )  /  /__\\  \\ |  |__/  /|  ___  \\\n       |  |__/  /  ______  \\|  ____  \\|  |  \\  \\\n_______|_______/__/ ____ \\__\\__|___\\__\\__|___\\__\\____\n|  ___  \\ |  ____/ /    \\   |  ___  \\ |  ____|  ___  \\\n|  |  \\  \\|  |___ /  /\\  \\  |  |  \\  \\|  |___|  |  \\  \\\n|  |__/  /|  ____/  /__\\  \\ |  |   )  |  ____|  |__/  /\n|  ____  \\|  |__/  ______  \\|  |__/  /|  |___|  ____  \\\n|__|   \\__\\____/__/      \\__\\_______/ |______|__|   \\__\\\n                https://darkreader.org\n*/\n\n/*! Dark reader generated CSS | Licensed under MIT https://github.com/darkreader/darkreader/blob/main/LICENSE */\n',
    ];
    function t(t, n) {
      const r = document.querySelector(t);
      r &&
        r.textContent &&
        (e.push(`/* ${n} */`), e.push(r.textContent), e.push(""));
    }
    (t(".darkreader--fallback", "Fallback Style"),
      t(".darkreader--user-agent", "User-Agent Style"),
      t(".darkreader--text", "Text Style"),
      t(".darkreader--invert", "Invert Style"),
      t(".darkreader--variables", "Variables Style"));
    const n = [];
    if (
      (document.querySelectorAll(".darkreader--sync").forEach((e) => {
        Q(e.sheet.cssRules, (e) => {
          e && e.cssText && n.push(e.cssText);
        });
      }),
      n.length)
    ) {
      const t = gs(n.join("\n"));
      (e.push("/* Modified CSS */"),
        e.push(
          await (async function (e) {
            const t = [];
            O(ys, e, 1).forEach((e) => {
              const n = v(e);
              t.push(n);
            });
            const n = await Promise.all(t);
            return e.replace(ys, () => `url("${n.shift()}")`);
          })(t),
        ),
        e.push(""));
    }
    return (t(".darkreader--override", "Override Style"), e.join("\n"));
  }
  let ws = !1;
  const Ss = (() => {
    try {
      return window.self !== window.top;
    } catch (e) {
      return (console.warn(e), !0);
    }
  })();
  function _s(e = {}, t = null) {
    const n = { ...P, ...e };
    if (n.engine !== M.dynamicTheme)
      throw new Error("Theme engine is not supported.");
    (is(n, t, Ss), (ws = !0));
  }
  function Es() {
    (ls(), (ws = !1));
  }
  const vs =
    "function" == typeof matchMedia
      ? matchMedia("(prefers-color-scheme: dark)")
      : void 0;
  let Cs = { themeOptions: null, fixes: null };
  function xs() {
    vs?.matches ? _s(Cs.themeOptions, Cs.fixes) : Es();
  }
  const Rs = function (e) {
    R = e || x;
  };
  ((e.auto = function (e = {}, t = null) {
    e
      ? ((Cs = { themeOptions: e, fixes: t }),
        xs(),
        k ? vs?.addEventListener("change", xs) : vs?.addListener(xs))
      : (k ? vs?.removeEventListener("change", xs) : vs?.removeListener(xs),
        Es());
  }),
    (e.disable = Es),
    (e.enable = _s),
    (e.exportGeneratedCSS = async function () {
      return await ks();
    }),
    (e.isEnabled = function () {
      return ws;
    }),
    (e.setFetchMethod = Rs),
    Object.defineProperty(e, "__esModule", { value: !0 }));
});
//# sourceMappingURL=/sm/5607ff874bfa9d68eaf71001dabedec5832361e6a7bf0041a32ca7ca844b0a62.map
