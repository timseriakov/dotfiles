return {
  "nvim-zh/colorful-winsep.nvim",
  enabled = not vim.g.neovide,
  event = { "WinLeave" },
  config = function()
    require("colorful-winsep").setup({
      -- Стиль границ окна
      -- Варианты: "single", "rounded", "bold", "double"
      -- Или можно передать таблицу символов: { "─", "│", "┌", "┐", "└", "┘" }
      border = "single",

      -- Типы файлов, для которых плагин не будет работать
      -- Полезно отключить для служебных окон, чтобы не создавать визуальный шум
      excluded_ft = { "packer", "TelescopePrompt", "mason", "lazy" },

      -- Подсветка разделителей
      -- nil - цветовая схема сама управляет цветом (по умолчанию #957CC6)
      -- string - задать цвет напрямую (например, "#957FB8")
      -- function - функция, которая будет вызываться при загрузке и смене цветовой схемы
      highlight = "#81A1C1", -- Nord frost blue (приглушенный синий)

      -- Настройки анимации
      animate = {
        -- ═══════════════════════════════════════════════════════════════
        -- ВАРИАНТЫ НАСТРОЙКИ АНИМАЦИИ:
        -- ═══════════════════════════════════════════════════════════════
        --
        -- 1. Отключить полностью (самый спокойный вариант):
        --    enabled = false,
        --
        -- 2. Медленная shift анимация (текущий вариант):
        --    enabled = "shift",
        --    smooth_speed = 3-5 (чем больше, тем медленнее)
        --    delay = 5-10 (больше задержка перед началом)
        --
        -- 3. Быстрая и незаметная shift:
        --    enabled = "shift",
        --    delta_time = 0.05,
        --    smooth_speed = 0.5,
        --    delay = 1,
        --
        -- 4. Progressive анимация (построчная, может быть менее отвлекающей):
        --    enabled = "progressive",
        --    vertical_delay = 50-100 (больше = медленнее)
        --    horizontal_delay = 10-20
        --
        -- ═══════════════════════════════════════════════════════════════

        -- Тип анимации: false (отключить), "shift" или "progressive"
        -- "shift" - плавное смещение разделителя
        -- "progressive" - построчная анимация разделителя
        enabled = false,

        -- Параметры для анимации типа "shift"
        shift = {
          delta_time = 0.05, -- Временной интервал между кадрами анимации (меньше = быстрее)
          smooth_speed = 0.5, -- Скорость плавности: 1-5 (чем БОЛЬШЕ, тем МЕДЛЕННЕЕ и спокойнее)
          delay = 1, -- Задержка перед началом анимации (в единицах delta_time)
        },

        -- Параметры для анимации типа "progressive"
        progressive = {
          vertical_delay = 10, -- Скорость анимации по вертикали (БОЛЬШЕ = медленнее)
          horizontal_delay = 2, -- Скорость анимации по горизонтали (БОЛЬШЕ = медленнее)
        },
      },

      -- Индикатор для случая, когда открыто ровно 2 окна
      -- Помогает понять, какое из двух окон активно
      indicator_for_2wins = {
        -- Позиция индикатора: false (отключить), "center", "start", "end", "both"
        -- "center" - в центре разделителя
        -- "start" - в начале разделителя
        -- "end" - в конце разделителя
        -- "both" - и в начале, и в конце
        position = "center",

        -- Символы для индикатора (требуется Nerd Font)
        -- Названия отражают позицию разделителя относительно активного окна
        symbols = {
          start_left = "󱞬", -- Начало, разделитель слева от активного окна
          end_left = "󱞪", -- Конец, разделитель слева от активного окна
          start_down = "󱞾", -- Начало, разделитель снизу от активного окна
          end_down = "󱟀", -- Конец, разделитель снизу от активного окна
          start_up = "󱞢", -- Начало, разделитель сверху от активного окна
          end_up = "󱞤", -- Конец, разделитель сверху от активного окна
          start_right = "󱞨", -- Начало, разделитель справа от активного окна
          end_right = "󱞦", -- Конец, разделитель справа от активного окна
        },
      },
    })
  end,
}
